!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.RPlayer=t()}(this,function(){"use strict";var e={autoPlay:!1,defaultVolume:50,loop:!1,poster:"",preload:"metadata",source:"",msg:""},t={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"},i={function:"[object Function]",object:"[object Object]",string:"[object String]",undef:"[object Undefined]"},s=document,r=function(e){return function(t){return Object.prototype.toString.call(t)===i[e]}},n=r("function"),o=r("object"),l=r("string"),a=r("undef"),u={handlers:{}},h=1;u.hasClass=function(e,t){return!!e&&(e.classList?e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1)},u.addClass=function(e,t){return e&&!this.hasClass(e,t)&&(e.classList?e.classList.add(t):e.className+=" "+t),this},u.removeClass=function(e,t){var i=new RegExp("\\s+"+t+"\\s+"),s=void 0;return e&&this.hasClass(e,t)&&(s=" "+e.className+" ",e.classList?e.classList.remove(t):e.className=s.replace(i," ").trim()),this},u.toggleClass=function(e,t){var i=new RegExp("\\s+"+t+"\\s+"),s=void 0;return e&&(e.classList?e.classList.toggle(t):(t=" "+t+" ",(s=" "+e.className+" ").indexOf(t)>-1?e.className=s.replace(i," ").trim():e.className+=" "+t)),this},u.css=function(e,t,i){var s="";if(a(i)){if(o(t)){for(i in t)s+=i+":"+t[i]+";";e.style.cssText+=s}else if(l(t))return getComputedStyle(e).getPropertyValue(t)}else e.style[t]=i;return this},u.fullScreen=function(e,t){var i=this.fsApi;return i?t?s[i.exitFullscreen]():e[i.requestFullscreen]():this.fullPage(e,t),this},u.fullPage=function(e,t){t?u.removeClass(e,"rplayer-fixed"):u.addClass(e,"rplayer-fixed")},u.selectElement=function(e,t){var i=void 0;t=t||s,e&&(e.nodeName||(r=e,r&&r.window===r)?i=e:"string"==typeof e&&(i=/^#[^>~+\[\]\s:]+$/.test(e)?s.getElementById(e.substring(1)):t.querySelector(e)));var r;return i},u.createElement=function(e,t){var i=s.createElement(e),r=void 0;if(o(t))for(r in t)i.setAttribute(r,t[r]);return i},u._on=function(e,t,i){var s=e.guid,r=void 0;s||(s=h++,Object.defineProperty(e,"guid",{value:s})),(r=this.handlers[s])?r[t]||(r[t]=[]):(r=this.handlers[s]={})[t]=[],r[t].push(i),e.addEventListener(t,i)},u.on=function(e,t,i,s){var r=this.selectElement(e),o=void 0;if(r)if(t){if(o=(t=t.split(" ")).length,n(i))for(;o--;){var l=t[o];s?this._off(r,l,i):this._on(r,l,i)}else if(s)for(;o--;)this._off(r,t[o])}else s&&this._off(r);return this},u._off=function(e,t,i){var s=this.handlers[e.guid];if(s)if(t&&(s=s[t]))if(i){for(var r=0,n=s.length;r<n;r++)if(s[r]===i){s.splice(r,1),e.removeEventListener(t,i);break}}else s.forEach(function(i){e.removeEventListener(t,i)}),u.handlers[t]=[];else if(!t)for(var o in s)this._off(e,o)},u.off=function(e,t,i){return this.on(e,t,i,!0)},u.once=function(e,t,i){var s=void 0,r=this;return n(i)&&(s=function(){var n=Array.prototype.slice.call(arguments);i.apply(this,n),r.off(e,t,s)},this.on(e,t,s)),this},u.fsApi=function(){for(var e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],t=null,i=e[0],s=void 0,r=void 0,n=0,o=e.length;n<o;n++)if((s=e[n])[1]in document){r=!0;break}return r&&(t={},s.forEach(function(e,s){t[i[s]]=e})),t}();function c(){this.handlers={}}c.prototype={constructor:c,on:function(e,t){return n(t)&&(l(e)||(e=String(e)),this.handlers[e]||(this.handlers[e]=[]),this.handlers[e].push(t)),this},off:function(e,t){var i=this.handlers[e];if(i)if(n(t)){for(var s=i.length;s--;)if(i[s]===t){i.splice(s,1);break}}else t||(this.handlers[e]=[]);return this},once:function(e,t){if(n(t)){var i=this;this.on(e,function s(){t.apply(this,arguments),i.off(e,s)})}},trigger:function(e){var t=Array.prototype.slice.call(arguments,1),i=this.handlers[e],s=void 0;if(i){(s=new function(e){this.type=e,this.data=null,this.timeStamp=0}(e)).data=t,s.timeStamp=Date.now(),t=[s].concat(t);for(var r=i.length;r--;)i[r].apply(this,t)}return this}};function d(e){c.call(this),this.vertical=!a(e)&&!!e,this.moveDis=this.pos=null,this.moving=!1}var p=d.prototype=Object.create(c.prototype);p.constructor=d,p.getPosition=function(){var e=this.el.parentNode.getBoundingClientRect(),t=getComputedStyle(this.el);return{width:parseFloat(t.width),height:parseFloat(t.height),origLeft:parseFloat(t.left),origTop:parseFloat(t.top),maxX:e.width,maxY:e.height}},p.updateHPosition=function(e,t){return t&&(e=100*e+"%"),u.css(this.bar,"width",e).css(this.el,"left",e),this},p.updateVPosition=function(e,t){return t&&(e=100*e+"%"),u.css(this.bar,"height",e).css(this.el,"bottom",e),this},p.mouseDown=function(e){if(!e.button){var t=e.clientX,i=e.clientY,r=this.getPosition(),n=this.getMoveCallback().bind(this);this.pos={width:r.width,height:r.height,offsetX:t-r.origLeft,offsetY:i-r.origTop,maxX:r.maxX,maxY:r.maxY},u.addClass(this.el,"rplayer-moving").on(s,"mousemove",n).on(s,"mouseup",this.mouseUp.bind(this))}},p.moveVertical=function(e,t){var i=void 0;return i=(i=this.pos.maxY-(t-this.pos.offsetY)-this.pos.height)<0?0:i>this.pos.maxY?this.pos.maxY:i,i/=this.pos.maxY,this.updateVPosition(i,!0),i},p.moveHorizontal=function(e){var t=void 0;return t=(t=e-this.pos.offsetX)<0?0:t>this.pos.maxX?this.pos.maxX:t,t/=this.pos.maxX,this.updateHPosition(t,!0),t},p.mouseMove=function(e,t){var i=e.clientX,s=e.clientY,r=t.call(this,i,s);this.moving=!0,this.trigger("slider.moving",this.moveDis=r)},p.getMoveCallback=function(){var e=this;return this.vertical?function(t){return e.mouseMove(t,e.moveVertical)}:function(t){return e.mouseMove(t,e.moveHorizontal)}},p.mouseUp=function(){u.off(s,"mousemove moseup").removeClass(this.el,"rplayer-moving"),this.moving&&this.trigger("slider.move.done",this.moveDis)},p.clickTrack=function(e){if(this.moving)this.moving=!1;else{var t=this.track.getBoundingClientRect(),i=e.clientX,s=e.clientY,r="slider.moving";this.vertical?(t=(t.height-s+t.top)/t.height,this.updateVPosition(t,!0)):(t=(i-t.left)/t.width,r="slider.move.done",this.updateHPosition(t,!0)),this.trigger(r,t)}},p.initEvent=function(){u.on(this.el,"mousedown",this.mouseDown.bind(this)).on(this.track,"click",this.clickTrack.bind(this))},p.destroy=function(){u.off(this.track).off(this.el),delete this.track,delete this.bar,delete this.el},p.init=function(e,t){var i={track:"rplayer-video-track",bar:"rplayer-video-progress",slider:"rplayer-video-slider"};this.vertical&&(i={track:"rplayer-volume-progress",bar:"rplayer-volume-value",slider:"rplayer-volume-slider"}),this.track=u.createElement("div",{class:"rplayer-progress "+i.track}),this.bar=u.createElement("div",{class:"rplayer-bar "+i.bar}),this.el=u.createElement("div",{class:"rplayer-slider "+i.slider}),this.track.appendChild(this.bar),this.track.append(this.el),t?e.insertBefore(this.track,t):e.appendChild(this.track),this.initEvent()};function f(e){this.config=e}f.prototype={constructor:f,setVolume:function(e){return e>1&&(e/=100),e>1&&(e=1),this.el.volume=e,this.el.muted=!e,this},getVolume:function(){return Math.floor(100*this.el.volume)},mute:function(e){return this.el.muted=!!e,this},isMuted:function(){return this.el.muted},autoPlay:function(e){return this.el.autoplay=!!e,this},isAutoPlay:function(){return this.el.autoplay},play:function(e){return e?this.el.play():this.el.pause(),this},isPaused:function(){return this.el.paused},isError:function(){var e=this.el.error;return e?e.code:e},loop:function(e){return this.el.loop=!!e,this},isLoop:function(){return this.el.loop},setPoster:function(e){return this.el.poster=e,this},setPreload:function(e){return this.el.preload=e,this},setCurrentTime:function(e,t){var i=this.getDuration();return t&&(e*=i),this.el.currentTime=e,this},getCurrentTime:function(){return this.el.currentTime},getDuration:function(){return this.el.duration},getPlayedPercentage:function(){return this.getCurrentTime()/this.getDuration()},getBuffered:function(e){var t=this.el.buffered,i=t.length;return e?i?t=t.end(i-1)/this.getDuration()*100:null:t},getReadyState:function(){return this.el.readyState},showControls:function(){return this.el.controls=!0,this},convertTime:function(e){var t=function(e){return e<10?"0"+e:e.toString()},i=void 0,s=void 0,r=void 0,n=void 0;return(e=Math.ceil(e))<=0?i="00:00":e<60?i="00:"+t(e):e<3600?(n=e%60,i=t(r=Math.floor(e/60))+":"+t(n)):(s=Math.floor(e/3600),i=e%3600,r=Math.floor(i/60),n=i%60,i=t(s)+":"+t(r)+":"+t(n)),i},reload:function(){return this.el.load(),this},changeSource:function(e){var t=this.isPaused();return this.source!==e&&(this.source=e,this.initSource(e)),t||this.play(!0),this},getSource:function(){return this.el.currentSrc},initSource:function(e){var t=s.createDocumentFragment();return"string"==typeof e?this.el.src=e:Array.isArray(e)&&(this.el.innerHTML="",e.forEach(function(e){var i=u.createElement("source",{src:e});t.appendChild(i)}),this.el.appendChild(t)),this},init:function(){var e=u.createElement("video"),t=s.createTextNode(this.config.msg.toString());return this.el=e,this.source=this.config.source,e.appendChild(t),u.addClass(this.el,"rplayer-video"),this.initSource(this.source).autoPlay(this.config.autoPlay).loop(this.config.loop).setPoster(this.config.poster).setPreload(this.config.preload).setVolume(this.config.defaultVolume),this.el}};var m=null,v=null,g="rplayer-hide";function y(t,i){var s=u.selectElement(t),r=void 0;if(c.call(this),(r=o(i)?{autoPlay:!!i.autoPlay,defaultVolume:Math.abs(parseInt(i.defaultVolume))||e.defaultVolume,loop:!!i.loop,msg:i.msg||e.msg,poster:i.poster||e.poster,preload:i.preload||e.preload,source:i.source}:e).source,!s)throw new Error("未选中任何元素");this.target=s,this.playedTime=0,this.controlsDisabled=!1,this.video=new f(r),this.controls=!!a(i.controls)||!!i.controls,this.useNativeControls=!a(i.useNativeControls)&&i.useNativeControls}var b=y.prototype=Object.create(c.prototype);return b.constructor=y,b.toggleFullScreen=function(){(this.isFullScreen=!this.isFullScreen)?this.requestFullScreen():this.exitFullScreen()},b.requestFullScreen=function(){this.isFullScreen=!0,u.fullScreen(this.container).addClass(this.fullScreenBtn,"rplayer-fullscreen").addClass(this.container,"rplayer-fullscreen")},b.exitFullScreen=function(){this.isFullScreen=!1,u.fullScreen(this.container,!0).removeClass(this.fullScreenBtn,"rplayer-fullscreen").removeClass(this.container,"rplayer-fullscreen")},b.initFullScreenEvent=function(){var e=this,t=u.fsApi;return t&&u.on(s,t.fullscreenchange,function(){s[t.fullscreenElement]||e.exitFullScreen()}).on(s,t.fullscreenerror,function(){e.exitFullScreen()}),this},b.loop=function(){return this.video.isLoop()?this.play():this.pause()},b.showError=function(){var e=this.errorMsg.parentNode;return this.controlsDisabled=!0,u.removeClass(e,g),this.hideLoading().hideControls(),this},b.hideError=function(){var e=this.errorMsg.parentNode;return this.controlsDisabled=!1,u.addClass(e,g),this},b.error=function(){var e=this.video.isError(),i=this.video.getCurrentTime(),s=void 0;switch(i&&(this.playedTime=i),e=t[e]){case"MEDIA_ERR_ABORTED":s="出错了";break;case"MEDIA_ERR_NETWORK":s="网络错误或视频地址无效";break;case"MEDIA_ERR_DECODE":case"MEDIA_ERR_SRC_NOT_SUPPORTED":s="解码失败,不支持的视频格式或地址无效"}s+=",点击刷新",this.errorMsg.innerHTML=s,this.showError()},b.refresh=function(){this.video.reload(),this.hideError()},b.initPlayEvent=function(){var e=this,t=this.video.el;return u.on(t,"loadstart stalled",function(t){e.playedTime&&"loadstart"===t.type&&(e.video.setCurrentTime(e.playedTime),e.playedTime=0),e.showLoading().disableControls()}).on(t,"progress",this.progress.bind(this)).on(t,"canplay seeked",this.hideLoading.bind(this)).on(t,"ended",this.loop.bind(this)).on(t,"error",this.error.bind(this)).on(t,"contextmenu",function(e){e.preventDefault()}),this},b.toggleVolumePopupInfo=function(e){return u.hasClass(this.volumePopup,g)&&(clearTimeout(m),this.volumePopupInfo.innerHTML="当前音量: "+e,this.currentVolume.innerHTML=e,u.removeClass(this.volumePopupInfo,g),m=setTimeout(function(){return function(){u.addClass(this.volumePopupInfo,g)}},3e3)),this},b.keyDown=function(e){if(!this.controlsDisabled){var t=e.key.toLowerCase(),i={up:5,arrowup:5,down:-5,arrowdown:-5,left:-10,arrowleft:-10,right:10,arrowright:10,esc:"esc",escape:"escape",enter:"enter"}[t];i?/(left)|(right)/.test(t)?this.updateProgressByStep(i):/(up)|(down)/.test(t)?this.updateVolumeByStep(i):/esc/.test(t)?this.exitFullScreen():this.toggleFullScreen():" "!==t&&"spacebar"!==t||this.togglePlay(),e.preventDefault()}},b.handleClick=function(e){switch(e.target){case this.showVolumePopBtn:this.toggleVolumeSettingsPanel(e);break;case this.muteBtn:this.mute();break;case this.playBtn:case this.video.el:this.togglePlay();break;case this.fullScreenBtn:this.toggleFullScreen();break;case this.errorMsg:this.refresh()}},b.initEvent=function(){return u.on(this.container,"click",this.handleClick.bind(this)),this.initPlayEvent(),this},b.updateProgress=function(){var e=this.video.getPlayedPercentage();this.videoSlider.moving||this.videoSlider.updateHPosition(e,!0),this.updateTime(!0)},b.updateVolume=function(e,t){return t&&(e*=100),e=Math.floor(e),this.video.setVolume(e),this.updateVolumeStyle(e),this},b.mute=function(){var e=this.video.getVolume();this.video.isMuted()?this.video.mute(!1):(this.video.mute(!0),e=0),this.updateVolumeStyle(e)},b.updateVolumeByStep=function(e){var t=this.video.getVolume();t=(t+=e)>100?100:t<0?0:t,this.updateVolume(t),this.toggleVolumePopupInfo(t)},b.updateVolumeStyle=function(e){var t=this.showVolumePopBtn.className;return t=t.replace(/volume-[^\s]*/,""),t+=e?e<=33?"volume-1":e<=66?"volume-2":"volume-3":"volume-mute",this.showVolumePopBtn.className=this.muteBtn.className=t,this.currentVolume.innerHTML=e,this.volumeSlider.updateVPosition(e+"%"),this},b.toggleVolumeSettingsPanel=function(e){this.controlsDisabled||u.toggleClass(this.volumePopup,g),e.stopPropagation()},b.hideVolumeSettingsPanel=function(){return u.addClass(this.volumePopup,g),this},b.initVolumeEvent=function(){var e=this;return u.on(this.volumePopup,"mouseleave",this.hideVolumeSettingsPanel.bind(this)).on(s,"click",function(t){var i=t.target;i===e.volumePopup||e.volumePopup.contains(i)||e.hideVolumeSettingsPanel()}),this},b.togglePlay=function(){this.controlsDisabled||(this.video.isPaused()?this.play():this.pause())},b.play=function(){return u.addClass(this.playBtn,"paused"),this.video.play(!0),this},b.pause=function(){return this.video.play(!1),u.removeClass(this.playBtn,"paused"),this},b.showPopupTimeInfo=function(e){var t=this.video.getDuration(),i=this.videoPopupTime,s=this.mark;if(t){u.removeClass(i,g).removeClass(s,g);var r=this.progressPanel.getBoundingClientRect(),n=e.clientX-r.left,o=i.offsetWidth,l=n-o/2;o=r.width-o,l=l<0?0:l>o?o:l,o=n/r.width,i.innerHTML=this.video.convertTime(o*t),u.css(i,"left",l+"px"),u.css(s,"left",100*o+"%")}return this},b.hidePopupTimeInfo=function(){return u.addClass(this.videoPopupTime,g).addClass(this.mark,g),this},b.showLoading=function(){return u.removeClass(this.loading,g),this},b.hideLoading=function(){return u.addClass(this.loading,g),this},b.progress=function(){var e=this.video.getBuffered(!0);this.bufferedBar&&u.css(this.bufferedBar,"width",e+"%"),this.video.getReadyState()<3&&this.showLoading()},b.updateProgressByStep=function(e){var t=this.video.getCurrentTime(),i=this.video.getDuration();t=(t+=e)<0?0:t>i?i:t,this.video.setCurrentTime(t),this.updateProgress()},b.updateTime=function(e){var t=this.video.convertTime(this.video.getCurrentTime()),i=this.totalTime;return e&&(i=this.currentTime),i.innerHTML=t,this},b.updateMetaInfo=function(){this.video.isAutoPlay()&&this.play(),this.updateTime().enableControls()},b.hideControls=function(){return u.addClass(this.controlsPanel,g),this},b.showControls=function(){var e=this;return this.video.isError()||(clearTimeout(v),u.removeClass(this.controlsPanel,g),u.hasClass(this.volumePopup,g)&&(v=setTimeout(function(){e.hideControls()},5e3))),this},b.enableControls=function(){return u.removeClass(this.controlsPanel,"rplayer-disabled"),this.controlsDisabled=!1,this},b.disableControls=function(){return u.addClass(this.controlsPanel,"rplayer-disabled"),this.controlsDisabled=!0,this},b.initControlEvent=function(){var e=this,t=this.video.el;return this.videoSlider.on("slider.move.done",function(t,i){e.video.setCurrentTime(i,!0),e.updateTime(!0)}),this.volumeSlider.on("slider.moving",function(t,i){e.updateVolume(i,!0)}),u.on(this.progressPanel,"mouseover mousemove",this.showPopupTimeInfo.bind(this)).on(this.progressPanel,"mouseout",this.hidePopupTimeInfo.bind(this)).on(this.container,"keydown",this.keyDown.bind(this)).on(this.container,"mousemove",this.showControls.bind(this)).on(t,"loadedmetadata",this.updateMetaInfo.bind(this)).on(t,"timeupdate",this.updateProgress.bind(this)).on(t,"dblclick",this.toggleFullScreen.bind(this)).on(t,"seeking",this.showLoading.bind(this)),this.initVolumeEvent().initFullScreenEvent()},b.offEvent=function(){return u.off(s).off(this.volumePopup).off(this.container).off(this.video.el),this},b.removeProp=function(){for(var e in this)delete this[e];return this},b.destroy=function(){return this.container&&(this.videoSlider.destroy(),this.volumeSlider.destroy(),this.offEvent().removeProp()),this},b.initEssentialElements=function(){var e=this.container;return this.loading=u.selectElement(".rplayer-loading",e),this.errorMsg=u.selectElement(".rplayer-msg",e),this},b.initElements=function(){var e=this.container;return this.playBtn=u.selectElement(".rplayer-play-btn",e),this.progressPanel=u.selectElement(".rplayer-progress-panel",e),this.videoPopupTime=u.selectElement(".rplayer-popup-video-info",e),this.currentTime=u.selectElement(".rplayer-current-time",e),this.totalTime=u.selectElement(".rplayer-total-time",e),this.bufferedBar=u.selectElement(".rplayer-bufferd-bar",e),this.showVolumePopBtn=u.selectElement(".rplayer-audio-btn",e),this.muteBtn=u.selectElement(".rplayer-mute",e),this.volumePopup=u.selectElement(".rplayer-volume-popup",e),this.volumePopupInfo=u.selectElement(".rplayer-popup-volume-info",e),this.currentVolume=u.selectElement(".rplayer-current-volume",e),this.fullScreenBtn=u.selectElement(".rplayer-fullscreen-btn",e),this.mark=u.selectElement(".rplayer-mark",e),this.volumeSlider=new d(!0),this.videoSlider=new d,this.videoSlider.init(this.progressPanel),this.volumeSlider.init(this.volumePopup,this.muteBtn),this},b.getSource=function(){return this.video.getSource()},b.initControls=function(){this.controlsPanel=u.createElement("div"),u.addClass(this.controlsPanel,"rplayer-controls"),this.controlsPanel.innerHTML='<div class="rplayer-popup-info rplayer-popup-video-info rplayer-hide">10:00</div>        <div class="rplayer-progress-panel">            <div class="rplayer-bufferd-bar"></div>            <div class="rplayer-mark rplayer-hide"></div>        </div>        <div class="rplayer-play-control rplayer-lf">            <button type="button" class="rplayer-play-btn"></button>            <span class="rplayer-time-info">               <span class="rplayer-current-time">00:00</span>/               <span class="rplayer-total-time">00:00</span>             </span>        </div>        <div class="rplayer-settings rplayer-rt">            <button type="button" class="rplayer-fullscreen-btn rplayer-rt"></button>            <div class="rplayer-audio-control rplayer-rt">                <button type="button" class="rplayer-audio-btn volume-1"></button>                <div class="rplayer-volume-popup rplayer-hide">                    <span class="rplayer-current-volume">12</span>                    <button class="rplayer-mute volume-1"></button>                </div>            </div>        </div>',this.container.appendChild(this.controlsPanel),this.initElements().updateVolumeStyle(this.video.getVolume()).initControlEvent()},b.initialize=function(){if(!this.container){var e=u.createElement("div",{tabIndex:100}),t=parseInt(getComputedStyle(this.target).height);this.isFullScreen=!1,e.innerHTML='<div class="rplayer-loading rplayer-hide"></div><div class="rplayer-popup-info rplayer-popup-volume-info rplayer-hide">10:00</div><div class="rplayer-error rplayer-hide"><div class="rplayer-msg">出错了</div></div>',u.css(e,"height",(t||500)+"px"),this.container=e,e.appendChild(this.video.init()),u.addClass(this.container,"rplayer-container"),this.controls&&!this.useNativeControls?this.initControls():this.useNativeControls&&this.video.showControls(),this.target.appendChild(this.container),this.initEssentialElements().initEvent()}return this},b.updateSource=function(e){this.video.changeSource(e)},y.init=function(e,t){return new y(e,t).initialize()},y});