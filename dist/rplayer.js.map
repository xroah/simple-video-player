{"version":3,"file":"rplayer.js","sources":["../src/global.js","../src/dom.js","../src/subscriber.js","../src/slider.js","../src/template.js","../src/video_control.js","../src/index.js"],"sourcesContent":["\"use strict\";\nconst DEFAULT_OPTIONS = {\n        autoPlay: false,\n        defaultVolume: 50,\n        loop: false,\n        poster: \"\",\n        preload: \"metadata\",\n        source: \"\",\n        msg: \"\"\n    },\n    ERROR_TYPE = { //视频播放错误类型\n        \"1\": \"MEDIA_ERR_ABORTED\",\n        \"2\": \"MEDIA_ERR_NETWORK\",\n        \"3\": \"MEDIA_ERR_DECODE\",\n        \"4\": \"MEDIA_ERR_SRC_NOT_SUPPORTED\"\n    },\n    TYPE = {\n        function: \"[object Function]\",\n        object: \"[object Object]\",\n        string: \"[object String]\",\n        undef: \"[object Undefined]\"\n    },\n    VOLUME_STEP = 5,\n    VIDEO_STEP = 10,\n    KEY_MAP = {\n        \"up\": VOLUME_STEP, //IE\n        \"arrowup\": VOLUME_STEP,\n        \"down\": -VOLUME_STEP, //IE\n        \"arrowdown\": -VOLUME_STEP,\n        \"left\": -VIDEO_STEP, //IE\n        \"arrowleft\": -VIDEO_STEP,\n        \"right\": VIDEO_STEP, //IE\n        \"arrowright\": VIDEO_STEP,\n        \"esc\": \"esc\", //IE\n        \"escape\": \"escape\",\n        \" \": \"space\",\n        \"spacebar\": \"space\", //IE\n        \"enter\": \"enter\"\n    };\nlet doc = document,\n    isType = type => obj => Object.prototype.toString.call(obj) === TYPE[type],\n    isFunction = isType(\"function\"),\n    isObject = isType(\"object\"),\n    isString = isType(\"string\"),\n    isUndefined = isType(\"undef\"),\n    isWindow = obj => obj && obj.window === obj;\n\nexport function extend(target, source) {\n    if (arguments.length) {\n        for (let key in source) {\n            let copy = source[key],\n                t = target[key];\n            if (isObject(copy) && isObject(t)) {\n                extend(target[key], source[key]);\n            } else {\n                target[key] = copy;\n            }\n        }\n    }\n    return target;\n}\n\nexport {\n    doc,\n    DEFAULT_OPTIONS,\n    ERROR_TYPE,\n    KEY_MAP,\n    isFunction,\n    isObject,\n    isString,\n    isUndefined,\n    isWindow\n};","import {doc, isFunction, isObject, isUndefined, isString, isWindow} from \"./global.js\";\nlet dom = {\n        handlers: {}\n    },\n    guid = 1;\n\ndom.hasClass = function (el, cls) {\n    if (!el) return false;\n    if (el.classList) {\n        return el.classList.contains(cls);\n    }\n    //如果className为XXX-active, cls为active,\n    //如果不加空格判断则获取的结果不准确\n    return (\" \" + el.className + \" \").indexOf(\" \" + cls + \" \") > -1;\n};\n\ndom.addClass = function (el, cls) {\n    if (el && !this.hasClass(el, cls)) {\n        if (el.classList) {\n            el.classList.add(cls);\n        } else {\n            el.className += \" \" + cls;\n        }\n    }\n    return this;\n};\n\ndom.removeClass = function (el, cls) {\n    let reg = new RegExp(\"\\\\s+\" + cls + \"\\\\s+\"),\n        className;\n    if (el && this.hasClass(el, cls)) {\n        className = \" \" + el.className + \" \";\n        if (el.classList) {\n            el.classList.remove(cls);\n        } else {\n            el.className = className.replace(reg, \" \").trim();\n        }\n    }\n    return this;\n};\n\ndom.toggleClass = function (el, cls) {\n    let reg = new RegExp(\"\\\\s+\" + cls + \"\\\\s+\"),\n        className;\n    if (el) {\n        if (el.classList) {\n            el.classList.toggle(cls);\n        } else {\n            className = \" \" + el.className + \" \";\n            cls = \" \" + cls + \" \";\n            if (className.indexOf(cls) > -1) {\n                el.className = className.replace(reg, \" \").trim();\n            } else {\n                el.className += \" \" + cls;\n            }\n        }\n    }\n    return this;\n};\n\ndom.css = function (el, prop, val) {\n    let css = \"\";\n    if (!isUndefined(val)) {\n        el.style[prop] = val;\n    } else {\n        if (isObject(prop)) {\n            for (val in prop) {\n                css += val + \":\" + prop[val] + \";\";\n            }\n            el.style.cssText += css;\n        } else if (isString(prop)) {\n            return getComputedStyle(el).getPropertyValue(prop);\n        }\n    }\n    return this;\n};\n\ndom.fullScreen = function (el, exit) {\n    let fsApi = this.fsApi;\n    if (fsApi) {\n        exit ? doc[fsApi.exitFullscreen]() : el[fsApi.requestFullscreen]();\n    } else {\n        this.fullPage(el, exit);\n    }\n    return this;\n};\n\n//不支持全屏的浏览器，在网页内铺满窗口\ndom.fullPage = function (el, exit) {\n    if (exit) {\n        dom.removeClass(el, \"rplayer-fixed\");\n    } else {\n        dom.addClass(el, \"rplayer-fixed\");\n    }\n};\n\n//选择元素， 只选中一个\ndom.selectElement = function (selector, context) {\n    let ret,\n        reg = /^#[^>~+\\[\\]\\s:]+$/; //匹配id选择器\n    context = context || doc;\n    if (selector) {\n        if (selector.nodeName || isWindow(selector)) {\n            ret = selector;\n        } else if (typeof selector === \"string\") {\n            if (reg.test(selector)) {\n                ret = doc.getElementById(selector.substring(1));\n            } else {\n                ret = context.querySelector(selector);\n            }\n        }\n    }\n    return ret;\n};\n\n//创建元素\ndom.createElement = function (name, attrs) {\n    let el = doc.createElement(name),\n        key;\n    if (isObject(attrs)) {\n        for (key in attrs) {\n            el.setAttribute(key, attrs[key]);\n        }\n    }\n    return el;\n};\n\n//添加元素事件\ndom._on = function (el, type, callback) {\n    let id = el.guid,\n        handler;\n    if (!id) {\n        id = guid++;\n        Object.defineProperty(el, \"guid\", {\n            value: id\n        });\n    }\n    handler = this.handlers[id];\n    if (!handler) {\n        handler = this.handlers[id] = {};\n        handler[type] = [];\n    } else if (!handler[type]) {\n        handler[type] = [];\n    }\n    handler[type].push(callback);\n    el.addEventListener(type, callback);\n};\n\ndom.on = function (selector, type, callback, off) {\n    let el = this.selectElement(selector),\n        i;\n    if (el) {\n        if (type) {\n            //添加多个事件，以空格分开\n            type = type.split(\" \");\n            i = type.length;\n            if (isFunction(callback)) {\n                for (; i--;) {\n                    let t = type[i];\n                    off ? this._off(el, t, callback) :\n                        this._on(el, t, callback);\n                }\n            } else if(off){\n                for (; i--;) {\n                    this._off(el, type[i]);\n                }\n            }\n        } else if(off) {\n            this._off(el);\n        }\n\n    }\n    return this;\n};\n\n//移除元素的事件\ndom._off = function (el, type, callback) {\n    let handlers = this.handlers[el.guid];\n    if (handlers) {\n        if (type && (handlers = handlers[type])) {\n            if (callback) {\n                for (let i = 0, len = handlers.length; i < len; i++ ) {\n                    if (handlers[i] === callback) {\n                        handlers.splice(i, 1);\n                        el.removeEventListener(type, callback);\n                        break;\n                    }\n                }\n            } else {\n                handlers.forEach(function (fn) {\n                    el.removeEventListener(type, fn);\n                });\n                dom.handlers[type] = [];\n            }\n        } else if (!type) {//如果没有type, 则移除该元素的所有事件\n            for (let key in handlers) {\n                this._off(el, key);\n            }\n        }\n    }\n};\n\ndom.off = function (selector, type, callback) {\n    return this.on(selector, type, callback, true);\n};\n\ndom.once = function (selector, type, callback) {\n    let cb, _this = this;\n    if (isFunction(callback)) {\n        cb = function () {\n            let args = Array.prototype.slice.call(arguments);\n            callback.apply(this, args);\n            _this.off(selector, type, cb);\n        };\n        this.on(selector, type, cb);\n    }\n    return this;\n};\n\ndom.fsApi = (function () {\n    let fullScreenApi = [\n            //W3C\n            [\n                \"requestFullscreen\",\n                \"exitFullscreen\",\n                \"fullscreenElement\",\n                \"fullscreenEnabled\",\n                \"fullscreenchange\",\n                \"fullscreenerror\"\n            ],\n            // WebKit\n            [\n                \"webkitRequestFullscreen\",\n                \"webkitExitFullscreen\",\n                \"webkitFullscreenElement\",\n                \"webkitFullscreenEnabled\",\n                \"webkitfullscreenchange\",\n                \"webkitfullscreenerror\"\n            ],\n            // Firefox\n            [\n                \"mozRequestFullScreen\",\n                \"mozCancelFullScreen\",\n                \"mozFullScreenElement\",\n                \"mozFullScreenEnabled\",\n                \"mozfullscreenchange\",\n                \"mozfullscreenerror\"\n            ],\n            // IE\n            [\n                \"msRequestFullscreen\",\n                \"msExitFullscreen\",\n                \"msFullscreenElement\",\n                \"msFullscreenEnabled\",\n                \"MSFullscreenChange\",\n                \"MSFullscreenError\"\n            ]\n\n        ],\n        fsApi = null,\n        defApi = fullScreenApi[0],\n        tmp, support;\n    for (let i = 0, len = fullScreenApi.length; i < len; i++) {\n        tmp = fullScreenApi[i];\n        if (tmp[1] in document) {\n            support = true;\n            break;\n        }\n    }\n\n    if (support) {\n        fsApi = {};\n        tmp.forEach(function (prop, i) {\n            fsApi[defApi[i]] = prop;\n        });\n    }\n    return fsApi;\n})();\n\nexport default dom;","import {isFunction, isString} from \"./global.js\";\n\nfunction CEvent(type) {\n    this.type = type;\n    this.data = null;\n    this.timeStamp = 0;\n}\n\nfunction Subscriber() {\n    this.handlers = {};\n}\n\nSubscriber.prototype = {\n    constructor: Subscriber,\n    on: function (type, fn) {\n        if (isFunction(fn)) {\n            if (!isString(type)) {\n                type = String(type);\n            }\n            if (!this.handlers[type]) {\n                this.handlers[type] = [];\n            }\n            this.handlers[type].push(fn);\n        }\n        return this;\n    },\n    off: function (type, fn) {\n        let  h = this.handlers[type];\n        if (h) {\n            if (isFunction(fn)) {\n                for (let i = h.length; i--;) {\n                    if (h[i] === fn) {\n                        h.splice(i, 1);\n                        break;\n                    }\n                }\n            } else if (!fn){\n                this.handlers[type] = [];\n            }\n        }\n        return this;\n    },\n    once: function (type, fn) {\n        if (isFunction(fn)) {\n            let self = this,\n                f = function () {\n                    fn.apply(this, arguments);\n                    self.off(type, f);\n                };\n            this.on(type, f);\n        }\n    },\n    trigger: function (type) {\n        let args = Array.prototype.slice.call(arguments, 1),\n            h = this.handlers[type],\n            e;\n        if (h) {\n            e = new CEvent(type);\n            e.data = args;\n            e.timeStamp = Date.now();\n            args = [e].concat(args);\n            for (let i = h.length; i--; ) {\n                h[i].apply(this, args);\n            }\n        }\n        return this;\n    }\n};\n\nexport default Subscriber;","import Subscriber from \"./subscriber.js\"\nimport {doc, isUndefined} from \"./global.js\";\nimport dom from \"./dom.js\";\n\nfunction Slider(vertical) {\n    Subscriber.call(this);\n    this.vertical = isUndefined(vertical) ? false : !!vertical;\n    this.moveDis = this.pos = null;\n    this.moving = false;\n}\n\nlet proto = Slider.prototype = Object.create(Subscriber.prototype);\nproto.constructor = Slider;\n\nproto.getPosition = function () {\n    let parent = this.el.parentNode,\n        rect = parent.getBoundingClientRect(),\n        pos = getComputedStyle(this.el);\n    return {\n        width: parseFloat(pos.width),\n        height: parseFloat(pos.height),\n        origLeft: parseFloat(pos.left),\n        origTop: parseFloat(pos.top),\n        maxX: rect.width,\n        maxY: rect.height\n    }\n};\n\nproto.updateHPosition = function (val, scale) {\n    scale && (val = val * 100 + \"%\");\n    dom.css(this.bar, \"width\", val)\n        .css(this.el, \"left\", val);\n    return this;\n};\n\nproto.updateVPosition = function (val, scale) {\n    scale && (val = val * 100 + \"%\");\n    dom.css(this.bar, \"height\", val)\n        .css(this.el, \"bottom\", val);\n    return this;\n};\n\nproto.mouseDown = function (evt) {\n    //只有按鼠标左键时处理(evt.button=0)\n    if (!evt.button) {\n        let x = evt.clientX,\n            y = evt.clientY,\n            pos = this.getPosition(),\n            mouseMove = this.getMoveCallback().bind(this);\n        this.pos = {\n            width: pos.width,\n            height: pos.height,\n            offsetX: x - pos.origLeft,\n            offsetY: y - pos.origTop,\n            maxX: pos.maxX,\n            maxY: pos.maxY\n        };\n        dom.addClass(this.el, \"rplayer-moving\")\n            .on(doc, \"mousemove\", mouseMove)\n            .on(doc, \"mouseup\", this.mouseUp.bind(this))\n    }\n};\n\nproto.moveVertical = function (x, y) {\n    let distance;\n    distance = this.pos.maxY - (y - this.pos.offsetY) - this.pos.height;\n    distance = distance < 0 ? 0 : distance > this.pos.maxY ? this.pos.maxY : distance;\n    distance = distance / this.pos.maxY;\n    this.updateVPosition(distance, true);\n    return distance;\n};\n\nproto.moveHorizontal = function (x) {\n    let distance;\n    distance = x - this.pos.offsetX;\n    distance = distance < 0 ? 0 : distance > this.pos.maxX ? this.pos.maxX : distance;\n    distance = distance / this.pos.maxX;\n    this.updateHPosition(distance, true);\n    return distance;\n};\n\nproto.mouseMove = function (evt, fn) {\n    let x = evt.clientX,\n        y = evt.clientY,\n        distance = fn.call(this, x, y);\n    this.moving = true;\n    this.trigger(\"slider.moving\", this.moveDis = distance);\n};\n\nproto.getMoveCallback = function () {\n    return this.vertical ?\n        evt => this.mouseMove(evt, this.moveVertical) :\n        evt => this.mouseMove(evt, this.moveHorizontal);\n};\n\nproto.mouseUp = function () {\n    dom.off(doc, \"mousemove moseup\")\n        .removeClass(this.el, \"rplayer-moving\");\n    this.moving && this.trigger(\"slider.move.done\", this.moveDis);\n};\n\nproto.clickTrack = function (evt) {\n    //移动滑块鼠标释放时会触发父元素点击事件,可能会导致鼠标释放后滑块位置改变\n    //如果移动滑块则点击事件不做处理\n    if (this.moving) {\n        this.moving = false;\n        return;\n    }\n    let rect = this.track.getBoundingClientRect(),\n        x = evt.clientX,\n        y = evt.clientY,\n        eType = \"slider.moving\";\n    if (this.vertical) {\n        rect = (rect.height - y + rect.top) / rect.height;\n        this.updateVPosition(rect, true);\n    } else {\n        rect = (x - rect.left) / rect.width;\n        eType = \"slider.move.done\";\n        this.updateHPosition(rect, true);\n    }\n    this.trigger(eType, rect);\n};\n\nproto.initEvent = function () {\n    dom.on(this.el, \"mousedown\", this.mouseDown.bind(this))\n        .on(this.track, \"click\", this.clickTrack.bind(this))\n};\n\nproto.destroy = function () {\n    dom.off(this.track)\n        .off(this.el);\n    delete this.track;\n    delete this.bar;\n    delete this.el;\n};\n\nproto.init = function (target, before) {\n    let cls = {\n        track: \"rplayer-video-track\",\n        bar: \"rplayer-video-progress\",\n        slider: \"rplayer-video-slider\"\n    };\n    if (this.vertical) {\n        cls = {\n            track: \"rplayer-volume-progress\",\n            bar: \"rplayer-volume-value\",\n            slider: \"rplayer-volume-slider\"\n        }\n    }\n    this.track = dom.createElement(\"div\", {class: `rplayer-progress ${cls.track}`});\n    this.bar = dom.createElement(\"div\", {class: `rplayer-bar ${cls.bar}`});\n    this.el = dom.createElement(\"div\", {class: `rplayer-slider ${cls.slider}`});\n    this.track.appendChild(this.bar);\n    this.track.append(this.el);\n    before ? target.insertBefore(this.track, before) : target.appendChild(this.track);\n    this.initEvent();\n};\n\nexport default Slider;","let tpl = '<div class=\"rplayer-loading rplayer-hide\"></div>' +\n          '<div class=\"rplayer-popup-info rplayer-popup-volume-info rplayer-hide\">10:00</div>' +\n          '<div class=\"rplayer-error rplayer-hide\"><div class=\"rplayer-msg\">出错了</div></div>',\n    controls = '<div class=\"rplayer-popup-info rplayer-popup-video-info rplayer-hide\">10:00</div>' +\n        '        <div class=\"rplayer-progress-panel\">' +\n        '            <div class=\"rplayer-bufferd-bar\"></div>' +\n        '            <div class=\"rplayer-mark rplayer-hide\"></div>' +\n        '        </div>' +\n        '        <div class=\"rplayer-play-control rplayer-lf\">' +\n        '            <button type=\"button\" class=\"rplayer-play-btn\"></button>' +\n        '            <span class=\"rplayer-time-info\">' +\n        '               <span class=\"rplayer-current-time\">00:00</span>/' +\n        '               <span class=\"rplayer-total-time\">00:00</span>' +\n        '             </span>' +\n        '        </div>' +\n        '        <div class=\"rplayer-settings rplayer-rt\">' +\n        '            <button type=\"button\" class=\"rplayer-fullscreen-btn rplayer-rt\"></button>' +\n        '            <div class=\"rplayer-audio-control rplayer-rt\">' +\n        '                <button type=\"button\" class=\"rplayer-audio-btn volume-1\"></button>' +\n        '                <div class=\"rplayer-volume-popup rplayer-hide\">' +\n        '                    <span class=\"rplayer-current-volume\">12</span>' +\n        '                    <button class=\"rplayer-mute volume-1\"></button>' +\n        '                </div>' +\n        '            </div>' +\n        '        </div>';\nexport {tpl, controls};","import dom from \"./dom.js\";\nimport {doc, isUndefined, extend} from \"./global.js\";\nimport Subscriber from \"./subscriber.js\";\nimport {ERROR_TYPE} from \"./global\";\n\nfunction VideoControl(config) {\n    Subscriber.call(this);\n    this.config = config;\n    this.playedTime = null;\n}\n\nexport const VIDEO_LOADED_META = \"video.loaded.meta\";\nexport const VIDEO_TIME_UPDATE = \"video.time.update\";\nexport const VIDEO_DBLCLICK = \"video.dblclick\";\nexport const VIDEO_SEEKING = \"video.seeking\";\nexport const VIDEO_LOAD_START = \"video.load.start\";\nexport const VIDEO_PROGRESS = \"video.progress\";\nexport const VIDEO_CAN_PLAY = \"video.can.play\";\nexport const VIDEO_ENDED = \"video.ended\";\nexport const VIDEO_ERROR = \"video.error\";\n\nlet fn = VideoControl.prototype = Object.create(Subscriber.prototype),\n    proto = {\n        constructor: VideoControl,\n        setVolume(volume) {\n            //音量只能设置0-1的值\n            if (volume > 1) {\n                volume = volume / 100;\n            }\n            volume > 1 && (volume = 1);\n            this.el.volume = volume;\n            this.el.muted = !volume;\n            return this;\n        },\n        getVolume() {\n            return Math.floor(this.el.volume * 100);\n        },\n        mute(mute) {\n            this.el.muted = isUndefined(mute) ? true : !!mute;\n            return this;\n        },\n        isMuted() {\n            return this.el.muted;\n        },\n        autoPlay(play) {\n            this.el.autoplay = !!play;\n            return this;\n        },\n        isAutoPlay() {\n            return this.el.autoplay;\n        },\n        play(play) {\n            if (isUndefined(play) || !!play) {\n                this.el.play();\n            } else {\n                this.el.pause();\n            }\n            return this;\n        },\n        isPaused() {\n            return this.el.paused;\n        },\n        isError() {\n            let err = this.el.error;\n            return err ? err.code : err;\n        },\n        loop(isLoop) {\n            this.el.loop = !!isLoop;\n            return this;\n        },\n        isLoop() {\n            return this.el.loop;\n        },\n        setPoster(poster) {\n            this.el.poster = poster;\n            return this;\n        },\n        setPreload(preload) {\n            this.el.preload = preload;\n            return this;\n        },\n        setCurrentTime(time, scale) {\n            let duration = this.getDuration();\n            if (scale) {\n                time = duration * time;\n            }\n            this.el.currentTime = time;\n            return this;\n        },\n        getCurrentTime() {\n            return this.el.currentTime;\n        },\n        getDuration() {\n            return this.el.duration;\n        },\n        getPlayedPercentage() {\n            return this.getCurrentTime() / this.getDuration();\n        },\n        getBuffered(percent) {\n            let buffered = this.el.buffered,\n                len = buffered.length;\n            console.log(buffered)\n            if (percent) {\n                //缓冲的百分比\n                return len ? buffered = buffered.end(len - 1) / this.getDuration() * 100 : null;\n            }\n            return buffered;\n        },\n        getReadyState() {\n            return this.el.readyState;\n        },\n        showControls() {\n            this.el.controls = true;\n            return this;\n        },\n        convertTime(time) {\n            let changeLen = num => num < 10 ? \"0\" + num : num.toString(),\n                str, h, m, s;\n            time = Math.ceil(time);\n            if (time <= 0) {\n                str = \"00:00\";\n            } else if (time < 60) {\n                str = \"00:\" + changeLen(time);\n            } else if (time < 3600) {\n                m = Math.floor(time / 60);\n                s = time % 60;\n                str = changeLen(m) + \":\" + changeLen(s);\n            } else {\n                h = Math.floor(time / 3600);\n                str = time % 3600;\n                m = Math.floor(str / 60);\n                s = str % 60;\n                str = changeLen(h) + \":\" + changeLen(m) + \":\" + changeLen(s);\n            }\n            return str;\n        },\n        reload() {\n            this.el.load();\n            return this;\n        },\n        changeSource(src) {\n            let paused = this.isPaused();\n            if (this.source !== src) {\n                this.source = src;\n                this.initSource(src);\n            }\n            if (!paused) {\n                this.play(true);\n            }\n            return this;\n        },\n        getSource() {\n            return this.el.currentSrc;\n        },\n        initSource(source) {\n            let frag = doc.createDocumentFragment();\n            if (typeof source === \"string\") {\n                this.el.src = source;\n            } else if (Array.isArray(source)) {\n                this.el.innerHTML = \"\";\n                source.forEach(function (src) {\n                    let sourceEl = dom.createElement(\"source\", {src: src});\n                    frag.appendChild(sourceEl);\n                });\n                this.el.appendChild(frag);\n            }\n            return this;\n        },\n        handleError() {\n            let code = this.isError(),\n                err, message;\n            //出现错误保存当前播放进度，恢复后从当前进度继续播放\n            this.playedTime = this.getCurrentTime();\n            err = ERROR_TYPE[code];\n            switch (err) {\n                case \"MEDIA_ERR_ABORTED\":\n                    message = \"出错了\";\n                    break;\n                case \"MEDIA_ERR_NETWORK\":\n                    message = \"网络错误或视频地址无效\";\n                    break;\n                case \"MEDIA_ERR_DECODE\":\n                case \"MEDIA_ERR_SRC_NOT_SUPPORTED\":\n                    message = \"解码失败,不支持的视频格式或地址无效\";\n            }\n            message += \",点击刷新\";\n            return {\n                code,\n                message\n            };\n        },\n        notify(type) {\n            let args = [];\n            switch (type) {\n                case \"video.loaded.meta\":\n                    args.push({\n                        duration: this.getDuration()\n                    });\n                    break;\n                case \"video.time.update\":\n                    args.push(this.getCurrentTime());\n                    break;\n                case \"video.load.start\":\n                    if (this.playedTime) {\n                        this.setCurrentTime(this.playedTime);\n                        this.playedTime = 0;\n                    }\n                    break;\n                case \"video.progress\":\n                    args.push(this.getBuffered(true), this.getReadyState());\n                    break;\n                case \"video.error\":\n                    args.push(this.handleError());\n                    break;\n            }\n            return this.trigger(type, ...args);\n        },\n        initEvent() {\n            let el = this.el;\n            dom.on(el, \"loadedmetadata\", this.notify.bind(this, VIDEO_LOADED_META))\n                .on(el, \"timeupdate\", this.notify.bind(this, VIDEO_TIME_UPDATE))\n                .on(el, \"dblclick\", this.notify.bind(this, VIDEO_DBLCLICK))\n                .on(el, \"seeking\", this.notify.bind(this, VIDEO_SEEKING))\n                .on(el, \"loadstart\", this.notify.bind(this, VIDEO_LOAD_START))\n                .on(el, \"progress\", this.notify.bind(this, VIDEO_PROGRESS))\n                .on(el, \"canplay seeked\", this.notify.bind(this, VIDEO_CAN_PLAY))\n                .on(el, \"ended\", this.notify.bind(this, VIDEO_ENDED))\n                .on(el, \"error\", this.notify.bind(this, VIDEO_ERROR))\n                .on(el, \"contextmenu\", evt => evt.preventDefault());\n        },\n        init() {\n            let video = dom.createElement(\"video\"),\n                text = doc.createTextNode(this.config.msg.toString());\n            this.el = video;\n            this.source = this.config.source;\n            video.appendChild(text);\n            dom.addClass(this.el, \"rplayer-video\");\n            this.initSource(this.source)\n                .autoPlay(this.config.autoPlay)\n                .loop(this.config.loop)\n                .setPoster(this.config.poster)\n                .setPreload(this.config.preload)\n                .setVolume(this.config.defaultVolume)\n                .initEvent();\n            return this.el;\n        }\n    };\n\n\nextend(fn, proto);\n\nexport default VideoControl;","import dom from \"./dom.js\";\nimport {doc, DEFAULT_OPTIONS, ERROR_TYPE, KEY_MAP, isObject, isUndefined} from \"./global.js\";\nimport Subscriber from \"./subscriber.js\";\nimport Slider from \"./slider.js\";\nimport {tpl, controls} from \"./template.js\";\nimport VideoControl, {\n    VIDEO_CAN_PLAY,\n    VIDEO_DBLCLICK,\n    VIDEO_ENDED,\n    VIDEO_ERROR,\n    VIDEO_LOAD_START,\n    VIDEO_LOADED_META,\n    VIDEO_PROGRESS,\n    VIDEO_SEEKING,\n    VIDEO_TIME_UPDATE\n} from \"./video_control.js\";\n\nlet hideVolumePopTimer = null,\n    hideControlsTimer = null;\nconst HIDE_CLASS = \"rplayer-hide\";\nconst DEFAULT_HEIGHT = 500;\n\nfunction RPlayer(selector, options) {\n    let target = dom.selectElement(selector),\n        config;\n    Subscriber.call(this);\n    if (isObject(options)) {\n        config = {\n            autoPlay: !!options.autoPlay,\n            defaultVolume: Math.abs(parseInt(options.defaultVolume)) || DEFAULT_OPTIONS.defaultVolume,\n            loop: !!options.loop,\n            msg: options.msg || DEFAULT_OPTIONS.msg,\n            poster: options.poster || DEFAULT_OPTIONS.poster,\n            preload: options.preload || DEFAULT_OPTIONS.preload,\n            source: options.source\n        };\n    } else {\n        config = DEFAULT_OPTIONS;\n    }\n    if (!config.source) {\n        new Error(\"没有设置视频链接\");\n    }\n    if (!target) {\n        throw new Error(\"未选中任何元素\");\n    }\n    this.target = target;\n    this.error = false;\n    this.controlsDisabled = false;\n    this.video = new VideoControl(config);\n    this.controls = isUndefined(options.controls) ? true : !!options.controls;\n    this.useNativeControls = isUndefined(options.useNativeControls) ? false : options.useNativeControls;\n}\n\nlet fn = RPlayer.prototype = Object.create(Subscriber.prototype);\nfn.constructor = RPlayer;\n\nfn.toggleFullScreen = function () {\n    if (this.isFullScreen = !this.isFullScreen) {\n        this.requestFullScreen();\n    } else {\n        this.exitFullScreen();\n    }\n};\n\nfn.requestFullScreen = function () {\n    this.isFullScreen = true;\n    dom.fullScreen(this.container)\n        .addClass(this.fullScreenBtn, \"rplayer-fullscreen\")\n        .addClass(this.container, \"rplayer-fullscreen\");\n};\n\nfn.exitFullScreen = function () {\n    this.isFullScreen = false;\n    dom.fullScreen(this.container, true)\n        .removeClass(this.fullScreenBtn, \"rplayer-fullscreen\")\n        .removeClass(this.container, \"rplayer-fullscreen\");\n};\n\nfn.initFullScreenEvent = function () {\n    let fsApi = dom.fsApi;\n    if (fsApi) {\n        dom.on(doc, fsApi.fullscreenchange, () => {\n            if (!doc[fsApi.fullscreenElement]) {\n                this.exitFullScreen();\n            }\n        }).on(doc, fsApi.fullscreenerror, () => {\n            this.exitFullScreen();\n        });\n    }\n    return this;\n};\n\nfn.showLoading = function () {\n    dom.removeClass(this.loading, HIDE_CLASS);\n    return this;\n};\n\nfn.hideLoading = function () {\n    dom.addClass(this.loading, HIDE_CLASS);\n    return this;\n};\n\nfn.buffer = function (buffered, readyState) {\n    this.bufferedBar && dom.css(this.bufferedBar, \"width\",  buffered + \"%\");\n    if (readyState < 3) {\n        this.showLoading();\n    }\n};\n\nfn.updateTime = function (time, current) {\n    let el = this.totalTime;\n    if (current) {\n        el = this.currentTime;\n    }\n    el.innerHTML = this.video.convertTime(time);\n    return this;\n};\n\nfn.updateMetaInfo = function (meta) {\n    if (this.video.isAutoPlay()) {\n        this.play();\n    }\n    this.updateTime(meta.duration)\n        .enableControls();\n};\n\nfn.playEnd = function () {\n    this.trigger(\"play.end\");\n    return this.video.isLoop() ? this.play() :\n        this.pause();\n};\n\nfn.hideError = function () {\n    let el = this.errorMsg.parentNode;\n    this.controlsDisabled = false;\n    dom.addClass(el, HIDE_CLASS);\n    return this;\n};\n\nfn.handleError = function (error) {\n    let el = this.errorMsg.parentNode;\n    this.controlsDisabled = true;\n    this.errorMsg.innerHTML = error.message;\n    this.error = true;\n    dom.removeClass(el, HIDE_CLASS);\n    this.hideLoading()\n        .hideControls();\n    return this;\n};\n\nfn.refresh = function () {\n    this.error = false;\n    this.video.reload();\n    this.hideError();\n};\n\nfn.initPlayEvent = function () {\n    this.video\n        .on(VIDEO_LOAD_START, () => this.showLoading().disableControls())\n        .on(VIDEO_PROGRESS, (evt, buffered, readyState) => this.buffer(buffered, readyState))\n        .on(VIDEO_LOADED_META, (evt, meta) => this.updateMetaInfo(meta))\n        .on(VIDEO_TIME_UPDATE, (evt, currentTime) => this.updateTime(currentTime, true))\n        .on(VIDEO_SEEKING, this.showLoading.bind(this))\n        .on(VIDEO_CAN_PLAY, this.hideLoading.bind(this))\n        .on(VIDEO_DBLCLICK, this.toggleFullScreen.bind(this))\n        .on(VIDEO_ENDED, this.playEnd.bind(this))\n        .on(VIDEO_ERROR, (evt, error) => this.handleError(error));\n    return this;\n};\n\nfn.toggleVolumePopupInfo = function (volume) {\n    //当音量设置面板隐藏是才显示当前音量\n    if (dom.hasClass(this.volumePopup, HIDE_CLASS)) {\n        clearTimeout(hideVolumePopTimer);\n        this.volumePopupInfo.innerHTML = \"当前音量: \" + volume;\n        this.currentVolume.innerHTML = volume;\n        dom.removeClass(this.volumePopupInfo, HIDE_CLASS);\n        hideVolumePopTimer = setTimeout(() => dom.addClass(this.volumePopupInfo, HIDE_CLASS), 3000);\n    }\n    return this;\n};\n\nfn.keyDown = function (evt) {\n    //控制条被禁用，不做处理\n    if (this.controlsDisabled) return;\n    let key = evt.key.toLowerCase(),\n        regUpOrDown = /(?:up)|(?:down)/,\n        regLeftOrRight = /(?:left)|(?:right)/,\n        regEsc = /esc/,\n        regSpace = /\\s|(?:spacebar)/,\n        tmp = KEY_MAP[key];\n    if (tmp) {\n        if (regLeftOrRight.test(key)) {\n            this.updateProgressByStep(tmp);\n        } else if (regUpOrDown.test(key)) {\n            this.updateVolumeByStep(tmp);\n        } else if (regEsc.test(key)) {\n            this.exitFullScreen();\n        } else if (regSpace.test(key)) {\n            this.togglePlay();\n        }else {\n            this.toggleFullScreen();\n        }\n    }\n    evt.preventDefault();\n};\n\nfn.handleClick = function (evt) {\n    let tgt = evt.target;\n    switch (tgt) {\n        case this.showVolumePopBtn:\n            this.toggleVolumeSettingsPanel(evt);\n            break;\n        case this.muteBtn:\n            this.mute();\n            break;\n        case this.playBtn:\n        case this.video.el:\n            this.togglePlay();\n            break;\n        case this.fullScreenBtn:\n            this.toggleFullScreen();\n            break;\n        case this.errorMsg:\n            this.refresh();\n            break;\n    }\n};\n\nfn.initEvent = function () {\n    dom.on(this.container, \"click\", this.handleClick.bind(this));\n    this.initPlayEvent();\n    return this;\n};\n\nfn.updateProgress = function () {\n    //在拖动滑块改变播放进度时候不改变播放进度条位置，只改变播放的当前时间\n    //防止影响滑块以及进度条的位置\n    let progress = this.video.getPlayedPercentage();\n    if (!this.videoSlider.moving) {\n        this.videoSlider.updateHPosition(progress, true);\n    }\n    this.updateTime(true);\n};\n\nfn.updateVolume = function (volume, scale) {\n    scale && (volume *= 100);\n    volume = Math.floor(volume);\n    this.video.setVolume(volume);\n    this.updateVolumeStyle(volume);\n    return this;\n};\n\nfn.mute = function () {\n    let volume = this.video.getVolume();\n    //点击静音键\n    if (this.video.isMuted()) {\n        this.video.mute(false);\n    } else {\n        this.video.mute(true);\n        volume = 0;\n    }\n    this.updateVolumeStyle(volume);\n};\n\nfn.updateVolumeByStep = function (step) {\n    let volume = this.video.getVolume();\n    volume += step;\n    volume = volume > 100 ? 100 : volume < 0 ? 0 : volume;\n    this.updateVolume(volume);\n    this.toggleVolumePopupInfo(volume);\n};\n\nfn.updateVolumeStyle = function (volume) {\n    let cls = this.showVolumePopBtn.className,\n        reg = /volume-[^\\s]*/;\n    cls = cls.replace(reg, \"\");\n    if (!volume) {\n        cls += \"volume-mute\";\n    } else if (volume <= 33) {\n        cls += \"volume-1\";\n    } else if (volume <= 66) {\n        cls += \"volume-2\";\n    } else {\n        cls += \"volume-3\";\n    }\n    this.showVolumePopBtn.className = this.muteBtn.className = cls;\n    this.currentVolume.innerHTML = volume;\n    this.volumeSlider.updateVPosition(volume + \"%\");\n    return this;\n};\n\n//点击显示/隐藏设置音量面板\nfn.toggleVolumeSettingsPanel = function (evt) {\n    if (!this.controlsDisabled) {\n        dom.toggleClass(this.volumePopup, HIDE_CLASS);\n    }\n    //阻止冒泡到document, document点击事件点击面板外任意地方隐藏面板，如不阻止冒泡则显示不出来\n    evt.stopPropagation();\n};\n\nfn.hideVolumeSettingsPanel = function () {\n    dom.addClass(this.volumePopup, HIDE_CLASS);\n    return this;\n};\n\nfn.initVolumeEvent = function () {\n    dom.on(this.volumePopup, \"mouseleave\", this.hideVolumeSettingsPanel.bind(this))\n        .on(doc, \"click\", evt => {\n            let tgt = evt.target;\n            //点击页面其他地方（点击的不是音量设置面板或者面板内的元素）则隐藏音量面板\n            if (tgt !== this.volumePopup && !this.volumePopup.contains(tgt)) {\n                this.hideVolumeSettingsPanel();\n            }\n        });\n    return this;\n};\n\n\nfn.togglePlay = function () {\n    if (!this.controlsDisabled) {\n        this.video.isPaused() ? this.play(): this.pause();\n    }\n};\n\nfn.play = function () {\n    dom.addClass(this.playBtn, \"paused\");\n    this.video.play(true);\n    return this;\n};\n\nfn.pause = function () {\n    this.video.play(false);\n    dom.removeClass(this.playBtn, \"paused\");\n    return this;\n};\n\n//鼠标在进度条上移动显示时间信息\nfn.showPopupTimeInfo = function (evt) {\n    let duration = this.video.getDuration(),\n        popup = this.videoPopupTime,\n        mark = this.mark;\n    if (duration) {\n        dom.removeClass(popup, HIDE_CLASS)\n            .removeClass(mark, HIDE_CLASS);\n        let rect = this.progressPanel.getBoundingClientRect(),\n            distance = evt.clientX - rect.left,\n            width = popup.offsetWidth,\n            left = distance - width / 2;\n        width = rect.width - width;\n        left = left < 0 ? 0 : left > width ? width : left;\n        width = distance / rect.width;\n        popup.innerHTML = this.video.convertTime(width * duration);\n        dom.css(popup, \"left\", left + \"px\");\n        dom.css(mark, \"left\", width * 100 + \"%\");\n    }\n    return this;\n};\n\nfn.hidePopupTimeInfo = function () {\n    dom.addClass(this.videoPopupTime, HIDE_CLASS)\n        .addClass(this.mark, HIDE_CLASS);\n    return this;\n};\n\nfn.updateProgressByStep = function (step) {\n    let currentTime = this.video.getCurrentTime(),\n        duration = this.video.getDuration();\n    currentTime += step;\n    currentTime = currentTime < 0 ? 0 : currentTime > duration ? duration : currentTime;\n    this.video.setCurrentTime(currentTime);\n    this.updateProgress();\n};\n\nfn.hideControls = function () {\n    dom.addClass(this.controlsPanel, HIDE_CLASS);\n    return this;\n};\n\nfn.showControls = function () {\n    //出错了则不显示控制条\n    if (!this.error) {\n        clearTimeout(hideControlsTimer);\n        dom.removeClass(this.controlsPanel, HIDE_CLASS);\n        if (dom.hasClass(this.volumePopup, HIDE_CLASS)) {\n            hideControlsTimer = setTimeout(() => this.hideControls(), 5000);\n        }\n    }\n    return this;\n};\n\nfn.enableControls = function () {\n    dom.removeClass(this.controlsPanel, \"rplayer-disabled\");\n    this.controlsDisabled = false;\n    return this;\n};\n\nfn.disableControls = function () {\n    dom.addClass(this.controlsPanel, \"rplayer-disabled\");\n    this.controlsDisabled = true;\n    return this;\n};\n\nfn.initControlEvent = function () {\n    let videoEl = this.video.el;\n    //滑动改变进度/点击进度条改变进度\n    this.videoSlider.on(\"slider.move.done\", (evt, distance) => {\n        this.video.setCurrentTime(distance, true);\n        this.updateTime(true);\n    });\n    this.volumeSlider.on(\"slider.moving\",  (evt, distance) => {\n       this.updateVolume(distance, true);\n    });\n    dom.on(this.progressPanel, \"mouseover mousemove\", this.showPopupTimeInfo.bind(this))\n        .on(this.progressPanel, \"mouseout\", this.hidePopupTimeInfo.bind(this))\n        .on(this.container, \"keydown\", this.keyDown.bind(this))\n        .on(this.container, \"mousemove\", this.showControls.bind(this));\n    return this.initVolumeEvent()\n        .initFullScreenEvent();\n};\n\nfn.offEvent = function () {\n    dom.off(doc)\n        .off(this.volumePopup)\n        .off(this.container)\n        .off(this.video.el);\n    return this;\n};\n\nfn.removeProp = function () {\n    for (let key in this) {\n        delete this[key];\n    }\n    return this;\n};\n\nfn.destroy = function () {\n    if (this.container) {\n        this.videoSlider.destroy();\n        this.volumeSlider.destroy();\n        this.offEvent()\n            .removeProp();\n    }\n    return this;\n};\n\nfn.initEssentialElements = function () {\n    let context = this.container;\n    this.loading = dom.selectElement(\".rplayer-loading\", context);\n    this.errorMsg = dom.selectElement(\".rplayer-msg\", context);\n    return this;\n};\n\nfn.initElements = function () {\n    let context = this.container;\n    this.playBtn = dom.selectElement(\".rplayer-play-btn\", context);\n    this.progressPanel = dom.selectElement(\".rplayer-progress-panel\", context);\n    this.videoPopupTime = dom.selectElement(\".rplayer-popup-video-info\", context);\n    this.currentTime = dom.selectElement(\".rplayer-current-time\", context);\n    this.totalTime = dom.selectElement(\".rplayer-total-time\", context);\n    this.bufferedBar = dom.selectElement(\".rplayer-bufferd-bar\", context);\n    this.showVolumePopBtn = dom.selectElement(\".rplayer-audio-btn\", context);\n    this.muteBtn = dom.selectElement(\".rplayer-mute\", context);\n    this.volumePopup = dom.selectElement(\".rplayer-volume-popup\", context);\n    this.volumePopupInfo = dom.selectElement(\".rplayer-popup-volume-info\", context);\n    this.currentVolume = dom.selectElement(\".rplayer-current-volume\", context);\n    this.fullScreenBtn = dom.selectElement(\".rplayer-fullscreen-btn\", context);\n    this.mark = dom.selectElement(\".rplayer-mark\", context);\n    this.volumeSlider = new Slider(true);\n    this.videoSlider = new Slider();\n    this.videoSlider.init(this.progressPanel);\n    this.volumeSlider.init(this.volumePopup, this.muteBtn);\n    return this;\n};\n\nfn.getSource = function () {\n    return this.video.getSource();\n};\n\nfn.initControls = function () {\n    this.controlsPanel = dom.createElement(\"div\");\n    dom.addClass(this.controlsPanel, \"rplayer-controls\");\n    this.controlsPanel.innerHTML = controls;\n    this.container.appendChild(this.controlsPanel);\n    return this.initElements()\n        .updateVolumeStyle(this.video.getVolume())\n        .initControlEvent();\n};\n\nfn.initialize = function () {\n    if (!this.container) { //防止重复初始化\n        let container = dom.createElement(\"div\", {\n                tabIndex: 100 //使元素能够获取焦点\n            }),\n            height = parseInt(getComputedStyle(this.target).height);\n        this.isFullScreen = false;\n        container.innerHTML = tpl;\n        dom.css(container, \"height\", (height || DEFAULT_HEIGHT) + \"px\");\n        this.container = container;\n        container.appendChild(this.video.init());\n        dom.addClass(this.container, \"rplayer-container\");\n        //播放控制与原生控制二选一，如果设置了useNativeControls为true，则优先使用原生控制\n        if (this.controls && !this.useNativeControls) {\n            this.initControls();\n        } else if (this.useNativeControls) {\n            this.video.showControls();\n        }\n        this.target.appendChild(this.container);\n        this.initEssentialElements()\n            .initEvent();\n    }\n    return this;\n};\n\nfn.updateSource = function (src) {\n    this.video.changeSource(src);\n};\n\nRPlayer.init = function (selector, options) {\n    return new RPlayer(selector, options).initialize();\n};\n\nexport default RPlayer;"],"names":["DEFAULT_OPTIONS","ERROR_TYPE","TYPE","VOLUME_STEP","VIDEO_STEP","KEY_MAP","doc","document","isType","Object","prototype","toString","call","obj","type","isFunction","isObject","isString","isUndefined","isWindow","window","extend","target","source","arguments","length","key","copy","t","dom","guid","hasClass","el","cls","classList","contains","className","indexOf","addClass","add","removeClass","reg","RegExp","remove","replace","trim","toggleClass","toggle","css","prop","val","style","cssText","getComputedStyle","getPropertyValue","fullScreen","exit","fsApi","exitFullscreen","requestFullscreen","fullPage","selectElement","selector","context","ret","nodeName","test","getElementById","substring","querySelector","createElement","name","attrs","setAttribute","_on","callback","id","handler","defineProperty","handlers","push","addEventListener","on","off","i","split","_off","len","splice","removeEventListener","forEach","fn","once","cb","_this","args","Array","slice","apply","fullScreenApi","defApi","tmp","support","CEvent","data","timeStamp","Subscriber","String","h","self","f","e","Date","now","concat","Slider","vertical","moveDis","pos","moving","proto","create","constructor","getPosition","parent","parentNode","rect","getBoundingClientRect","parseFloat","width","height","left","top","updateHPosition","scale","bar","updateVPosition","mouseDown","evt","button","x","clientX","y","clientY","mouseMove","getMoveCallback","bind","origLeft","origTop","maxX","maxY","mouseUp","moveVertical","distance","offsetY","moveHorizontal","offsetX","trigger","clickTrack","track","eType","initEvent","destroy","init","before","class","slider","appendChild","append","insertBefore","tpl","controls","VideoControl","config","playedTime","VIDEO_LOADED_META","VIDEO_TIME_UPDATE","VIDEO_DBLCLICK","VIDEO_SEEKING","VIDEO_LOAD_START","VIDEO_PROGRESS","VIDEO_CAN_PLAY","VIDEO_ENDED","VIDEO_ERROR","volume","muted","Math","floor","mute","play","autoplay","pause","paused","err","error","code","isLoop","loop","poster","preload","time","duration","getDuration","currentTime","getCurrentTime","percent","buffered","log","end","readyState","changeLen","num","str","m","s","ceil","load","src","isPaused","initSource","currentSrc","frag","createDocumentFragment","isArray","innerHTML","sourceEl","isError","message","setCurrentTime","getBuffered","getReadyState","handleError","notify","preventDefault","video","text","createTextNode","msg","autoPlay","setPoster","setPreload","setVolume","defaultVolume","hideVolumePopTimer","hideControlsTimer","HIDE_CLASS","DEFAULT_HEIGHT","RPlayer","options","abs","parseInt","Error","controlsDisabled","useNativeControls","toggleFullScreen","isFullScreen","requestFullScreen","exitFullScreen","container","fullScreenBtn","initFullScreenEvent","fullscreenchange","fullscreenElement","fullscreenerror","showLoading","loading","hideLoading","buffer","bufferedBar","updateTime","current","totalTime","convertTime","updateMetaInfo","meta","isAutoPlay","enableControls","playEnd","hideError","errorMsg","hideControls","refresh","reload","initPlayEvent","disableControls","toggleVolumePopupInfo","volumePopup","volumePopupInfo","currentVolume","setTimeout","keyDown","toLowerCase","regUpOrDown","regLeftOrRight","regEsc","regSpace","updateProgressByStep","updateVolumeByStep","togglePlay","handleClick","tgt","showVolumePopBtn","toggleVolumeSettingsPanel","muteBtn","playBtn","updateProgress","progress","getPlayedPercentage","videoSlider","updateVolume","updateVolumeStyle","getVolume","isMuted","step","volumeSlider","stopPropagation","hideVolumeSettingsPanel","initVolumeEvent","showPopupTimeInfo","popup","videoPopupTime","mark","progressPanel","offsetWidth","hidePopupTimeInfo","controlsPanel","showControls","initControlEvent","videoEl","offEvent","removeProp","initEssentialElements","initElements","getSource","initControls","initialize","updateSource","changeSource"],"mappings":"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"}