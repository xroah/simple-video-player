{"version":3,"file":"rplayer.js","sources":["../src/global.js","../src/dom.js","../src/subscriber.js","../src/slider.js","../src/template.js","../src/video_control.js","../src/index.js"],"sourcesContent":["\"use strict\";\nconst DEFAULT_OPTIONS = {\n        autoPlay: false,\n        defaultVolume: 50,\n        loop: false,\n        poster: \"\",\n        preload: \"metadata\",\n        source: \"\",\n        msg: \"\"\n    },\n    ERROR_TYPE = { //视频播放错误类型\n        \"1\": \"MEDIA_ERR_ABORTED\",\n        \"2\": \"MEDIA_ERR_NETWORK\",\n        \"3\": \"MEDIA_ERR_DECODE\",\n        \"4\": \"MEDIA_ERR_SRC_NOT_SUPPORTED\"\n    },\n    TYPE = {\n        function: \"[object Function]\",\n        object: \"[object Object]\",\n        string: \"[object String]\",\n        undef: \"[object Undefined]\"\n    },\n    VOLUME_STEP = 5,\n    VIDEO_STEP = 10,\n    KEY_MAP = {\n        \"up\": VOLUME_STEP, //IE\n        \"arrowup\": VOLUME_STEP,\n        \"down\": -VOLUME_STEP, //IE\n        \"arrowdown\": -VOLUME_STEP,\n        \"left\": -VIDEO_STEP, //IE\n        \"arrowleft\": -VIDEO_STEP,\n        \"right\": VIDEO_STEP, //IE\n        \"arrowright\": VIDEO_STEP,\n        \"esc\": \"esc\", //IE\n        \"escape\": \"escape\",\n        \" \": \"space\",\n        \"spacebar\": \"space\", //IE\n        \"enter\": \"enter\"\n    };\nlet doc = document,\n    isType = type => obj => Object.prototype.toString.call(obj) === TYPE[type],\n    isFunction = isType(\"function\"),\n    isObject = isType(\"object\"),\n    isString = isType(\"string\"),\n    isUndefined = isType(\"undef\"),\n    isWindow = obj => obj && obj.window === obj;\n\nexport function extend(target, source) {\n    if (arguments.length) {\n        for (let key in source) {\n            let copy = source[key],\n                t = target[key];\n            if (isObject(copy) && isObject(t)) {\n                extend(target[key], source[key]);\n            } else {\n                target[key] = copy;\n            }\n        }\n    }\n    return target;\n}\n\nexport function toArray(likeArr, start = 0) {\n    return Array.isArray(likeArr) ? likeArr.slice(start) :\n        likeArr.length ?  Array.prototype.slice.call(likeArr) : [];\n}\n\nexport function removeProp(obj, prop) {\n    if (prop) {\n        try{\n            delete obj[prop];\n        }catch (e){}\n    } else {\n        for (prop in obj) {\n            delete obj[prop];\n        }\n    }\n}\n\nexport {\n    doc,\n    DEFAULT_OPTIONS,\n    ERROR_TYPE,\n    KEY_MAP,\n    isFunction,\n    isObject,\n    isString,\n    isUndefined,\n    isWindow\n};","import {doc, isFunction, isObject, isUndefined, isString, isWindow} from \"./global.js\";\nlet dom = {\n        handlers: {}\n    },\n    guid = 1;\n\ndom.hasClass = function (el, cls) {\n    if (!el) return false;\n    if (el.classList) {\n        return el.classList.contains(cls);\n    }\n    //如果className为XXX-active, cls为active,\n    //如果不加空格判断则获取的结果不准确\n    return (\" \" + el.className + \" \").indexOf(\" \" + cls + \" \") > -1;\n};\n\ndom.addClass = function (el, cls) {\n    if (el && !this.hasClass(el, cls)) {\n        if (el.classList) {\n            el.classList.add(cls);\n        } else {\n            el.className += \" \" + cls;\n        }\n    }\n    return this;\n};\n\ndom.removeClass = function (el, cls) {\n    let reg = new RegExp(\"\\\\s+\" + cls + \"\\\\s+\"),\n        className;\n    if (el && this.hasClass(el, cls)) {\n        className = \" \" + el.className + \" \";\n        if (el.classList) {\n            el.classList.remove(cls);\n        } else {\n            el.className = className.replace(reg, \" \").trim();\n        }\n    }\n    return this;\n};\n\ndom.toggleClass = function (el, cls) {\n    let reg = new RegExp(\"\\\\s+\" + cls + \"\\\\s+\"),\n        className;\n    if (el) {\n        if (el.classList) {\n            el.classList.toggle(cls);\n        } else {\n            className = \" \" + el.className + \" \";\n            cls = \" \" + cls + \" \";\n            if (className.indexOf(cls) > -1) {\n                el.className = className.replace(reg, \" \").trim();\n            } else {\n                el.className += \" \" + cls;\n            }\n        }\n    }\n    return this;\n};\n\ndom.css = function (el, prop, val) {\n    let css = \"\";\n    if (!isUndefined(val)) {\n        el.style[prop] = val;\n    } else {\n        if (isObject(prop)) {\n            for (val in prop) {\n                css += val + \":\" + prop[val] + \";\";\n            }\n            el.style.cssText += css;\n        } else if (isString(prop)) {\n            return getComputedStyle(el).getPropertyValue(prop);\n        }\n    }\n    return this;\n};\n\ndom.fullScreen = function (el, exit) {\n    let fsApi = this.fsApi;\n    if (fsApi) {\n        exit ? doc[fsApi.exitFullscreen]() : el[fsApi.requestFullscreen]();\n    } else {\n        this.fullPage(el, exit);\n    }\n    return this;\n};\n\n//不支持全屏的浏览器，在网页内铺满窗口\ndom.fullPage = function (el, exit) {\n    if (exit) {\n        dom.removeClass(el, \"rplayer-fixed\");\n    } else {\n        dom.addClass(el, \"rplayer-fixed\");\n    }\n};\n\n//选择元素， 只选中一个\ndom.selectElement = function (selector, context) {\n    let ret,\n        reg = /^#[^>~+\\[\\]\\s:]+$/; //匹配id选择器\n    context = context || doc;\n    if (selector) {\n        if (selector.nodeName || isWindow(selector)) {\n            ret = selector;\n        } else if (typeof selector === \"string\") {\n            if (reg.test(selector)) {\n                ret = doc.getElementById(selector.substring(1));\n            } else {\n                ret = context.querySelector(selector);\n            }\n        }\n    }\n    return ret;\n};\n\n//创建元素\ndom.createElement = function (name, attrs) {\n    let el = doc.createElement(name),\n        key;\n    if (isObject(attrs)) {\n        for (key in attrs) {\n            el.setAttribute(key, attrs[key]);\n        }\n    }\n    return el;\n};\n\n//添加元素事件\ndom._on = function (el, type, callback) {\n    let id = el.guid,\n        handler;\n    if (!id) {\n        id = guid++;\n        Object.defineProperty(el, \"guid\", {\n            value: id\n        });\n    }\n    handler = this.handlers[id];\n    if (!handler) {\n        handler = this.handlers[id] = {};\n        handler[type] = [];\n    } else if (!handler[type]) {\n        handler[type] = [];\n    }\n    handler[type].push(callback);\n    el.addEventListener(type, callback);\n};\n\ndom.on = function (selector, type, callback, off) {\n    let el = this.selectElement(selector),\n        i;\n    if (el) {\n        if (type) {\n            //添加多个事件，以空格分开\n            type = type.split(\" \");\n            i = type.length;\n            if (isFunction(callback)) {\n                for (; i--;) {\n                    let t = type[i];\n                    off ? this._off(el, t, callback) :\n                        this._on(el, t, callback);\n                }\n            } else if(off){\n                for (; i--;) {\n                    this._off(el, type[i]);\n                }\n            }\n        } else if(off) {\n            this._off(el);\n        }\n\n    }\n    return this;\n};\n\n//移除元素的事件\ndom._off = function (el, type, callback) {\n    let handlers = this.handlers[el.guid];\n    if (handlers) {\n        if (type && (handlers = handlers[type])) {\n            if (callback) {\n                for (let i = 0, len = handlers.length; i < len; i++ ) {\n                    if (handlers[i] === callback) {\n                        handlers.splice(i, 1);\n                        el.removeEventListener(type, callback);\n                        break;\n                    }\n                }\n            } else {\n                handlers.forEach(function (fn) {\n                    el.removeEventListener(type, fn);\n                });\n                dom.handlers[type] = [];\n            }\n        } else if (!type) {//如果没有type, 则移除该元素的所有事件\n            for (let key in handlers) {\n                this._off(el, key);\n            }\n        }\n    }\n};\n\ndom.off = function (selector, type, callback) {\n    return this.on(selector, type, callback, true);\n};\n\ndom.once = function (selector, type, callback) {\n    let cb, _this = this;\n    if (isFunction(callback)) {\n        cb = function () {\n            let args = Array.prototype.slice.call(arguments);\n            callback.apply(this, args);\n            _this.off(selector, type, cb);\n        };\n        this.on(selector, type, cb);\n    }\n    return this;\n};\n\ndom.fsApi = (function () {\n    let fullScreenApi = [\n            //W3C\n            [\n                \"requestFullscreen\",\n                \"exitFullscreen\",\n                \"fullscreenElement\",\n                \"fullscreenEnabled\",\n                \"fullscreenchange\",\n                \"fullscreenerror\"\n            ],\n            // WebKit\n            [\n                \"webkitRequestFullscreen\",\n                \"webkitExitFullscreen\",\n                \"webkitFullscreenElement\",\n                \"webkitFullscreenEnabled\",\n                \"webkitfullscreenchange\",\n                \"webkitfullscreenerror\"\n            ],\n            // Firefox\n            [\n                \"mozRequestFullScreen\",\n                \"mozCancelFullScreen\",\n                \"mozFullScreenElement\",\n                \"mozFullScreenEnabled\",\n                \"mozfullscreenchange\",\n                \"mozfullscreenerror\"\n            ],\n            // IE\n            [\n                \"msRequestFullscreen\",\n                \"msExitFullscreen\",\n                \"msFullscreenElement\",\n                \"msFullscreenEnabled\",\n                \"MSFullscreenChange\",\n                \"MSFullscreenError\"\n            ]\n\n        ],\n        fsApi = null,\n        defApi = fullScreenApi[0],\n        tmp, support;\n    for (let i = 0, len = fullScreenApi.length; i < len; i++) {\n        tmp = fullScreenApi[i];\n        if (tmp[1] in document) {\n            support = true;\n            break;\n        }\n    }\n\n    if (support) {\n        fsApi = {};\n        tmp.forEach(function (prop, i) {\n            fsApi[defApi[i]] = prop;\n        });\n    }\n    return fsApi;\n})();\n\nexport default dom;","import {isFunction, isString, toArray} from \"./global.js\";\nimport {isUndefined} from \"./global\";\n\nfunction CEvent(type) {\n    this.type = type;\n    this.data = null;\n    this.timeStamp = 0;\n}\n\nfunction Subscriber() {\n    this.handlers = {};\n}\n\nSubscriber.prototype = {\n    constructor: Subscriber,\n    _on(type, fn) {\n        if (!this.handlers[type]) {\n            this.handlers[type] = [];\n        }\n        this.handlers[type].push(fn);\n    },\n    on(type, fn) {\n        if (isFunction(fn)) {\n            if (!isString(type)) {\n                throw new TypeError(\"事件类型只能为String\");\n            }\n            type = type.split(\" \");\n            for (let i = type.length; i--;) {\n                this._on(type[i], fn);\n            }\n        }\n        return this;\n    },\n    _off(type, fn) {\n        let handlers = this.handlers[type];\n        if (handlers) {\n            if (isFunction(fn)) {\n                for(let i = handlers.length; i--;) {\n                    if (fn === handlers[i]) {\n                        handlers.splice(i, 1);\n                        break;\n                    }\n                }\n            } else if (isUndefined(fn)) {\n                this.handlers[type] = [];\n            }\n        }\n    },\n    off: function (type, fn) {\n        let len = arguments.length;\n        if (len && isString(type)) {\n            let args = toArray(arguments, 1);\n            type = type.split(\" \");\n            for (let i = type.length; i--;) {\n                this._off.call(this, type[i], ...args);\n            }\n        } else if (!len) {\n            //没传参数则移除所有绑定\n            this.handlers = {};\n        }\n        return this;\n    },\n    once: function (type, fn) {\n        if (isFunction(fn)) {\n            let self = this,\n                f = function () {\n                    fn.apply(this, arguments);\n                    self.off(type, f);\n                };\n            this.on(type, f);\n        }\n    },\n    trigger: function (type) {\n        let args = toArray(arguments, 1),\n            h = this.handlers[type],\n            e;\n        if (h) {\n            e = new CEvent(type);\n            e.data = args;\n            e.timeStamp = Date.now();\n            args = [e].concat(args);\n            for (let i = h.length; i--; ) {\n                h[i].apply(this, args);\n            }\n        }\n        return this;\n    }\n};\n\nexport default Subscriber;","import Subscriber from \"./subscriber.js\"\nimport {doc, isUndefined, removeProp} from \"./global.js\";\nimport dom from \"./dom.js\";\n\nfunction Slider(vertical) {\n    Subscriber.call(this);\n    this.vertical = isUndefined(vertical) ? false : !!vertical;\n    this.moveDis = this.pos = null;\n    this.moving = false;\n}\n\nlet proto = Slider.prototype = Object.create(Subscriber.prototype);\nproto.constructor = Slider;\n\nproto.getPosition = function () {\n    let parent = this.el.parentNode,\n        rect = parent.getBoundingClientRect(),\n        pos = getComputedStyle(this.el);\n    return {\n        width: parseFloat(pos.width),\n        height: parseFloat(pos.height),\n        origLeft: parseFloat(pos.left),\n        origTop: parseFloat(pos.top),\n        maxX: rect.width,\n        maxY: rect.height\n    }\n};\n\nproto.updateHPosition = function (val, scale) {\n    scale && (val = val * 100 + \"%\");\n    dom.css(this.bar, \"width\", val)\n        .css(this.el, \"left\", val);\n    return this;\n};\n\nproto.updateVPosition = function (val, scale) {\n    scale && (val = val * 100 + \"%\");\n    dom.css(this.bar, \"height\", val)\n        .css(this.el, \"bottom\", val);\n    return this;\n};\n\nproto.mouseDown = function (evt) {\n    //只有按鼠标左键时处理(evt.button=0)\n    if (!evt.button) {\n        let x = evt.clientX,\n            y = evt.clientY,\n            pos = this.getPosition(),\n            mouseMove = this.getMoveCallback().bind(this);\n        this.pos = {\n            width: pos.width,\n            height: pos.height,\n            offsetX: x - pos.origLeft,\n            offsetY: y - pos.origTop,\n            maxX: pos.maxX,\n            maxY: pos.maxY\n        };\n        dom.addClass(this.el, \"rplayer-moving\")\n            .on(doc, \"mousemove\", mouseMove)\n            .on(doc, \"mouseup\", this.mouseUp.bind(this))\n    }\n};\n\nproto.moveVertical = function (x, y) {\n    let distance;\n    distance = this.pos.maxY - (y - this.pos.offsetY) - this.pos.height;\n    distance = distance < 0 ? 0 : distance > this.pos.maxY ? this.pos.maxY : distance;\n    distance = distance / this.pos.maxY;\n    this.updateVPosition(distance, true);\n    return distance;\n};\n\nproto.moveHorizontal = function (x) {\n    let distance;\n    distance = x - this.pos.offsetX;\n    distance = distance < 0 ? 0 : distance > this.pos.maxX ? this.pos.maxX : distance;\n    distance = distance / this.pos.maxX;\n    this.updateHPosition(distance, true);\n    return distance;\n};\n\nproto.mouseMove = function (evt, fn) {\n    let x = evt.clientX,\n        y = evt.clientY,\n        distance = fn.call(this, x, y);\n    this.moving = true;\n    this.trigger(\"slider.moving\", this.moveDis = distance);\n};\n\nproto.getMoveCallback = function () {\n    return this.vertical ?\n        evt => this.mouseMove(evt, this.moveVertical) :\n        evt => this.mouseMove(evt, this.moveHorizontal);\n};\n\nproto.mouseUp = function () {\n    dom.off(doc, \"mousemove moseup\")\n        .removeClass(this.el, \"rplayer-moving\");\n    this.moving && this.trigger(\"slider.move.done\", this.moveDis);\n};\n\nproto.clickTrack = function (evt) {\n    //移动滑块鼠标释放时会触发父元素点击事件,可能会导致鼠标释放后滑块位置改变\n    //如果移动滑块则点击事件不做处理\n    if (this.moving) {\n        this.moving = false;\n        return;\n    }\n    let rect = this.track.getBoundingClientRect(),\n        x = evt.clientX,\n        y = evt.clientY,\n        eType = \"slider.moving\";\n    if (this.vertical) {\n        rect = (rect.height - y + rect.top) / rect.height;\n        this.updateVPosition(rect, true);\n    } else {\n        rect = (x - rect.left) / rect.width;\n        eType = \"slider.move.done\";\n        this.updateHPosition(rect, true);\n    }\n    this.trigger(eType, rect);\n};\n\nproto.initEvent = function () {\n    dom.on(this.el, \"mousedown\", this.mouseDown.bind(this))\n        .on(this.track, \"click\", this.clickTrack.bind(this))\n};\n\nproto.destroy = function () {\n    dom.off(this.track)\n        .off(this.el);\n    removeProp(this);\n};\n\nproto.init = function (target, before) {\n    let cls = {\n        track: \"rplayer-video-track\",\n        bar: \"rplayer-video-progress\",\n        slider: \"rplayer-video-slider\"\n    };\n    if (this.vertical) {\n        cls = {\n            track: \"rplayer-volume-progress\",\n            bar: \"rplayer-volume-value\",\n            slider: \"rplayer-volume-slider\"\n        }\n    }\n    this.track = dom.createElement(\"div\", {class: `rplayer-progress ${cls.track}`});\n    this.bar = dom.createElement(\"div\", {class: `rplayer-bar ${cls.bar}`});\n    this.el = dom.createElement(\"div\", {class: `rplayer-slider ${cls.slider}`});\n    this.track.appendChild(this.bar);\n    this.track.append(this.el);\n    before ? target.insertBefore(this.track, before) : target.appendChild(this.track);\n    this.initEvent();\n};\n\nexport default Slider;","let tpl = '<div class=\"rplayer-loading rplayer-hide\"></div>' +\n          '<div class=\"rplayer-popup-info rplayer-popup-volume-info rplayer-hide\">10:00</div>' +\n          '<div class=\"rplayer-error rplayer-hide\"><div class=\"rplayer-msg\">出错了</div></div>',\n    controls = '<div class=\"rplayer-popup-info rplayer-popup-video-info rplayer-hide\">10:00</div>' +\n        '        <div class=\"rplayer-progress-panel\">' +\n        '            <div class=\"rplayer-bufferd-bar\"></div>' +\n        '            <div class=\"rplayer-mark rplayer-hide\"></div>' +\n        '        </div>' +\n        '        <div class=\"rplayer-play-control rplayer-lf\">' +\n        '            <button type=\"button\" class=\"rplayer-play-btn\"></button>' +\n        '            <span class=\"rplayer-time-info\">' +\n        '               <span class=\"rplayer-current-time\">00:00</span>/' +\n        '               <span class=\"rplayer-total-time\">00:00</span>' +\n        '             </span>' +\n        '        </div>' +\n        '        <div class=\"rplayer-settings rplayer-rt\">' +\n        '            <button type=\"button\" class=\"rplayer-fullscreen-btn rplayer-rt\"></button>' +\n        '            <div class=\"rplayer-audio-control rplayer-rt\">' +\n        '                <button type=\"button\" class=\"rplayer-audio-btn volume-1\"></button>' +\n        '                <div class=\"rplayer-volume-popup rplayer-hide\">' +\n        '                    <span class=\"rplayer-current-volume\">12</span>' +\n        '                    <button class=\"rplayer-mute volume-1\"></button>' +\n        '                </div>' +\n        '            </div>' +\n        '        </div>';\nexport {tpl, controls};","import dom from \"./dom.js\";\nimport {doc, isUndefined, extend} from \"./global.js\";\nimport Subscriber from \"./subscriber.js\";\nimport {ERROR_TYPE, removeProp} from \"./global\";\n\nfunction VideoControl(config) {\n    Subscriber.call(this);\n    this.config = config;\n    this.playedTime = null;\n}\n\nexport const VIDEO_LOADED_META = \"video.loaded.meta\";\nexport const VIDEO_TIME_UPDATE = \"video.time.update\";\nexport const VIDEO_DBLCLICK = \"video.dblclick\";\nexport const VIDEO_SEEKING = \"video.seeking\";\nexport const VIDEO_LOAD_START = \"video.load.start\";\nexport const VIDEO_PROGRESS = \"video.progress\";\nexport const VIDEO_CAN_PLAY = \"video.can.play\";\nexport const VIDEO_ENDED = \"video.ended\";\nexport const VIDEO_ERROR = \"video.error\";\n\nlet fn = VideoControl.prototype = Object.create(Subscriber.prototype),\n    proto = {\n        constructor: VideoControl,\n        setVolume(volume) {\n            //音量只能设置0-1的值\n            if (volume > 1) {\n                volume = volume / 100;\n            }\n            volume > 1 && (volume = 1);\n            this.el.volume = volume;\n            this.el.muted = !volume;\n            return this;\n        },\n        getVolume() {\n            return Math.floor(this.el.volume * 100);\n        },\n        mute(mute) {\n            this.el.muted = isUndefined(mute) ? true : !!mute;\n            return this;\n        },\n        isMuted() {\n            return this.el.muted;\n        },\n        autoPlay(play) {\n            this.el.autoplay = !!play;\n            return this;\n        },\n        isAutoPlay() {\n            return this.el.autoplay;\n        },\n        play(play) {\n            if (isUndefined(play) || !!play) {\n                this.el.play();\n            } else {\n                this.el.pause();\n            }\n            return this;\n        },\n        isPaused() {\n            return this.el.paused;\n        },\n        isError() {\n            let err = this.el.error;\n            return err ? err.code : err;\n        },\n        loop(isLoop) {\n            this.el.loop = !!isLoop;\n            return this;\n        },\n        isLoop() {\n            return this.el.loop;\n        },\n        setPoster(poster) {\n            this.el.poster = poster;\n            return this;\n        },\n        setPreload(preload) {\n            this.el.preload = preload;\n            return this;\n        },\n        setCurrentTime(time, scale) {\n            let duration = this.getDuration();\n            if (scale) {\n                time = duration * time;\n            }\n            this.el.currentTime = time;\n            return this;\n        },\n        getCurrentTime() {\n            return this.el.currentTime;\n        },\n        getDuration() {\n            return this.el.duration;\n        },\n        getPlayedPercentage() {\n            return this.getCurrentTime() / this.getDuration();\n        },\n        getBuffered(percent) {\n            let buffered = this.el.buffered,\n                len = buffered.length;\n            console.log(buffered)\n            if (percent) {\n                //缓冲的百分比\n                return len ? buffered = buffered.end(len - 1) / this.getDuration() * 100 : null;\n            }\n            return buffered;\n        },\n        getReadyState() {\n            return this.el.readyState;\n        },\n        showControls() {\n            this.el.controls = true;\n            return this;\n        },\n        convertTime(time) {\n            let changeLen = num => num < 10 ? \"0\" + num : num.toString(),\n                str, h, m, s;\n            time = Math.ceil(time);\n            if (time <= 0) {\n                str = \"00:00\";\n            } else if (time < 60) {\n                str = \"00:\" + changeLen(time);\n            } else if (time < 3600) {\n                m = Math.floor(time / 60);\n                s = time % 60;\n                str = changeLen(m) + \":\" + changeLen(s);\n            } else {\n                h = Math.floor(time / 3600);\n                str = time % 3600;\n                m = Math.floor(str / 60);\n                s = str % 60;\n                str = changeLen(h) + \":\" + changeLen(m) + \":\" + changeLen(s);\n            }\n            return str;\n        },\n        reload() {\n            this.el.load();\n            return this;\n        },\n        changeSource(src) {\n            let paused = this.isPaused();\n            if (this.source !== src) {\n                this.source = src;\n                this.initSource(src);\n            }\n            if (!paused) {\n                this.play(true);\n            }\n            return this;\n        },\n        getSource() {\n            return this.el.currentSrc;\n        },\n        initSource(source) {\n            let frag = doc.createDocumentFragment();\n            if (typeof source === \"string\") {\n                this.el.src = source;\n            } else if (Array.isArray(source)) {\n                this.el.innerHTML = \"\";\n                source.forEach(function (src) {\n                    let sourceEl = dom.createElement(\"source\", {src: src});\n                    frag.appendChild(sourceEl);\n                });\n                this.el.appendChild(frag);\n            }\n            return this;\n        },\n        handleError() {\n            let code = this.isError(),\n                err, message;\n            //出现错误保存当前播放进度，恢复后从当前进度继续播放\n            this.playedTime = this.getCurrentTime();\n            err = ERROR_TYPE[code];\n            switch (err) {\n                case \"MEDIA_ERR_ABORTED\":\n                    message = \"出错了\";\n                    break;\n                case \"MEDIA_ERR_NETWORK\":\n                    message = \"网络错误或视频地址无效\";\n                    break;\n                case \"MEDIA_ERR_DECODE\":\n                case \"MEDIA_ERR_SRC_NOT_SUPPORTED\":\n                    message = \"解码失败,不支持的视频格式或地址无效\";\n            }\n            message += \",点击刷新\";\n            return {\n                code,\n                message\n            };\n        },\n        notify(type) {\n            let args = [];\n            switch (type) {\n                case \"video.loaded.meta\":\n                    args.push({\n                        duration: this.getDuration()\n                    });\n                    break;\n                case \"video.time.update\":\n                    args.push(this.getCurrentTime());\n                    break;\n                case \"video.load.start\":\n                    if (this.playedTime) {\n                        this.setCurrentTime(this.playedTime);\n                        this.playedTime = 0;\n                    }\n                    break;\n                case \"video.progress\":\n                    args.push(this.getBuffered(true), this.getReadyState());\n                    break;\n                case \"video.error\":\n                    args.push(this.handleError());\n                    break;\n            }\n            return this.trigger(type, ...args);\n        },\n        initEvent() {\n            let el = this.el;\n            dom.on(el, \"loadedmetadata\", this.notify.bind(this, VIDEO_LOADED_META))\n                .on(el, \"timeupdate\", this.notify.bind(this, VIDEO_TIME_UPDATE))\n                .on(el, \"dblclick\", this.notify.bind(this, VIDEO_DBLCLICK))\n                .on(el, \"seeking\", this.notify.bind(this, VIDEO_SEEKING))\n                .on(el, \"loadstart\", this.notify.bind(this, VIDEO_LOAD_START))\n                .on(el, \"progress\", this.notify.bind(this, VIDEO_PROGRESS))\n                .on(el, \"canplay seeked\", this.notify.bind(this, VIDEO_CAN_PLAY))\n                .on(el, \"ended\", this.notify.bind(this, VIDEO_ENDED))\n                .on(el, \"error\", this.notify.bind(this, VIDEO_ERROR))\n                .on(el, \"contextmenu\", evt => evt.preventDefault());\n        },\n        init() {\n            let video = dom.createElement(\"video\"),\n                text = doc.createTextNode(this.config.msg.toString());\n            this.el = video;\n            this.source = this.config.source;\n            video.appendChild(text);\n            dom.addClass(this.el, \"rplayer-video\");\n            this.initSource(this.source)\n                .autoPlay(this.config.autoPlay)\n                .loop(this.config.loop)\n                .setPoster(this.config.poster)\n                .setPreload(this.config.preload)\n                .setVolume(this.config.defaultVolume)\n                .initEvent();\n            return this.el;\n        },\n        destroy() {\n            dom.off(this.el);\n            this.off();\n            removeProp(this);\n        }\n    };\n\n\nextend(fn, proto);\n\nexport default VideoControl;","import dom from \"./dom.js\";\nimport {doc, DEFAULT_OPTIONS, KEY_MAP, isObject, isUndefined, removeProp} from \"./global.js\";\nimport Subscriber from \"./subscriber.js\";\nimport Slider from \"./slider.js\";\nimport {tpl, controls} from \"./template.js\";\nimport VideoControl, {\n    VIDEO_CAN_PLAY,\n    VIDEO_DBLCLICK,\n    VIDEO_ENDED,\n    VIDEO_ERROR,\n    VIDEO_LOAD_START,\n    VIDEO_LOADED_META,\n    VIDEO_PROGRESS,\n    VIDEO_SEEKING,\n    VIDEO_TIME_UPDATE\n} from \"./video_control.js\";\n\nlet hideVolumePopTimer = null,\n    hideControlsTimer = null;\nconst HIDE_CLASS = \"rplayer-hide\";\nconst DEFAULT_HEIGHT = 500;\n\nfunction RPlayer(selector, options) {\n    let target = dom.selectElement(selector),\n        config;\n    Subscriber.call(this);\n    if (isObject(options)) {\n        config = {\n            autoPlay: !!options.autoPlay,\n            defaultVolume: Math.abs(parseInt(options.defaultVolume)) || DEFAULT_OPTIONS.defaultVolume,\n            loop: !!options.loop,\n            msg: options.msg || DEFAULT_OPTIONS.msg,\n            poster: options.poster || DEFAULT_OPTIONS.poster,\n            preload: options.preload || DEFAULT_OPTIONS.preload,\n            source: options.source\n        };\n    } else {\n        config = DEFAULT_OPTIONS;\n    }\n    if (!config.source) {\n        new Error(\"没有设置视频链接\");\n    }\n    if (!target) {\n        throw new Error(\"未选中任何元素\");\n    }\n    this.target = target;\n    this.error = false;\n    this.controlsDisabled = false;\n    this.video = new VideoControl(config);\n    this.controls = isUndefined(options.controls) ? true : !!options.controls;\n    this.useNativeControls = isUndefined(options.useNativeControls) ? false : options.useNativeControls;\n}\n\nlet fn = RPlayer.prototype = Object.create(Subscriber.prototype);\nfn.constructor = RPlayer;\n\nfn.toggleFullScreen = function () {\n    if (this.isFullScreen = !this.isFullScreen) {\n        this.requestFullScreen();\n    } else {\n        this.exitFullScreen();\n    }\n};\n\nfn.requestFullScreen = function () {\n    this.isFullScreen = true;\n    dom.fullScreen(this.container)\n        .addClass(this.fullScreenBtn, \"rplayer-fullscreen\")\n        .addClass(this.container, \"rplayer-fullscreen\");\n};\n\nfn.exitFullScreen = function () {\n    this.isFullScreen = false;\n    dom.fullScreen(this.container, true)\n        .removeClass(this.fullScreenBtn, \"rplayer-fullscreen\")\n        .removeClass(this.container, \"rplayer-fullscreen\");\n};\n\nfn.initFullScreenEvent = function () {\n    let fsApi = dom.fsApi;\n    if (fsApi) {\n        dom.on(doc, fsApi.fullscreenchange, () => {\n            if (!doc[fsApi.fullscreenElement]) {\n                this.exitFullScreen();\n            }\n        }).on(doc, fsApi.fullscreenerror, () => {\n            this.exitFullScreen();\n        });\n    }\n    return this;\n};\n\nfn.showLoading = function () {\n    dom.removeClass(this.loading, HIDE_CLASS);\n    return this;\n};\n\nfn.hideLoading = function () {\n    dom.addClass(this.loading, HIDE_CLASS);\n    return this;\n};\n\nfn.buffer = function (buffered, readyState) {\n    this.bufferedBar && dom.css(this.bufferedBar, \"width\",  buffered + \"%\");\n    if (readyState < 3) {\n        this.showLoading();\n    }\n};\n\nfn.updateTime = function (time, current) {\n    let el = this.totalTime;\n    if (current) {\n        el = this.currentTime;\n    }\n    el.innerHTML = this.video.convertTime(time);\n    return this;\n};\n\nfn.updateMetaInfo = function (meta) {\n    if (this.video.isAutoPlay()) {\n        this.play();\n    }\n    this.updateTime(meta.duration)\n        .enableControls();\n};\n\nfn.playEnd = function () {\n    this.trigger(\"play.end\");\n    return this.video.isLoop() ? this.play() :\n        this.pause();\n};\n\nfn.hideError = function () {\n    let el = this.errorMsg.parentNode;\n    this.controlsDisabled = false;\n    dom.addClass(el, HIDE_CLASS);\n    return this;\n};\n\nfn.handleError = function (error) {\n    let el = this.errorMsg.parentNode;\n    this.controlsDisabled = true;\n    this.errorMsg.innerHTML = error.message;\n    this.error = true;\n    dom.removeClass(el, HIDE_CLASS);\n    this.hideLoading()\n        .hideControls();\n    return this;\n};\n\nfn.refresh = function () {\n    this.error = false;\n    this.video.reload();\n    this.hideError();\n};\n\nfn.initPlayEvent = function () {\n    this.video\n        .on(VIDEO_LOAD_START, () => this.showLoading().disableControls())\n        .on(VIDEO_PROGRESS, (evt, buffered, readyState) => this.buffer(buffered, readyState))\n        .on(VIDEO_LOADED_META, (evt, meta) => this.updateMetaInfo(meta))\n        .on(VIDEO_TIME_UPDATE, (evt, currentTime) => this.updateTime(currentTime, true))\n        .on(VIDEO_SEEKING, this.showLoading.bind(this))\n        .on(VIDEO_CAN_PLAY, this.hideLoading.bind(this))\n        .on(VIDEO_DBLCLICK, this.toggleFullScreen.bind(this))\n        .on(VIDEO_ENDED, this.playEnd.bind(this))\n        .on(VIDEO_ERROR, (evt, error) => this.handleError(error));\n    return this;\n};\n\nfn.toggleVolumePopupInfo = function (volume) {\n    //当音量设置面板隐藏是才显示当前音量\n    if (dom.hasClass(this.volumePopup, HIDE_CLASS)) {\n        clearTimeout(hideVolumePopTimer);\n        this.volumePopupInfo.innerHTML = \"当前音量: \" + volume;\n        this.currentVolume.innerHTML = volume;\n        dom.removeClass(this.volumePopupInfo, HIDE_CLASS);\n        hideVolumePopTimer = setTimeout(() => dom.addClass(this.volumePopupInfo, HIDE_CLASS), 3000);\n    }\n    return this;\n};\n\nfn.keyDown = function (evt) {\n    //控制条被禁用，不做处理\n    if (this.controlsDisabled) return;\n    let key = evt.key.toLowerCase(),\n        regUpOrDown = /(?:up)|(?:down)/,\n        regLeftOrRight = /(?:left)|(?:right)/,\n        regEsc = /esc/,\n        regSpace = /\\s|(?:spacebar)/,\n        tmp = KEY_MAP[key];\n    if (tmp) {\n        if (regLeftOrRight.test(key)) {\n            this.updateProgressByStep(tmp);\n        } else if (regUpOrDown.test(key)) {\n            this.updateVolumeByStep(tmp);\n        } else if (regEsc.test(key)) {\n            this.exitFullScreen();\n        } else if (regSpace.test(key)) {\n            this.togglePlay();\n        }else {\n            this.toggleFullScreen();\n        }\n    }\n    evt.preventDefault();\n};\n\nfn.handleClick = function (evt) {\n    let tgt = evt.target;\n    switch (tgt) {\n        case this.showVolumePopBtn:\n            this.toggleVolumeSettingsPanel(evt);\n            break;\n        case this.muteBtn:\n            this.mute();\n            break;\n        case this.playBtn:\n        case this.video.el:\n            this.togglePlay();\n            break;\n        case this.fullScreenBtn:\n            this.toggleFullScreen();\n            break;\n        case this.errorMsg:\n            this.refresh();\n            break;\n    }\n};\n\nfn.initEvent = function () {\n    dom.on(this.container, \"click\", this.handleClick.bind(this));\n    this.initPlayEvent();\n    return this;\n};\n\nfn.updateProgress = function () {\n    //在拖动滑块改变播放进度时候不改变播放进度条位置，只改变播放的当前时间\n    //防止影响滑块以及进度条的位置\n    let progress = this.video.getPlayedPercentage();\n    if (!this.videoSlider.moving) {\n        this.videoSlider.updateHPosition(progress, true);\n    }\n    this.updateTime(true);\n};\n\nfn.updateVolume = function (volume, scale) {\n    scale && (volume *= 100);\n    volume = Math.floor(volume);\n    this.video.setVolume(volume);\n    this.updateVolumeStyle(volume);\n    return this;\n};\n\nfn.mute = function () {\n    let volume = this.video.getVolume();\n    //点击静音键\n    if (this.video.isMuted()) {\n        this.video.mute(false);\n    } else {\n        this.video.mute(true);\n        volume = 0;\n    }\n    this.updateVolumeStyle(volume);\n};\n\nfn.updateVolumeByStep = function (step) {\n    let volume = this.video.getVolume();\n    volume += step;\n    volume = volume > 100 ? 100 : volume < 0 ? 0 : volume;\n    this.updateVolume(volume);\n    this.toggleVolumePopupInfo(volume);\n};\n\nfn.updateVolumeStyle = function (volume) {\n    let cls = this.showVolumePopBtn.className,\n        reg = /volume-[^\\s]*/;\n    cls = cls.replace(reg, \"\");\n    if (!volume) {\n        cls += \"volume-mute\";\n    } else if (volume <= 33) {\n        cls += \"volume-1\";\n    } else if (volume <= 66) {\n        cls += \"volume-2\";\n    } else {\n        cls += \"volume-3\";\n    }\n    this.showVolumePopBtn.className = this.muteBtn.className = cls;\n    this.currentVolume.innerHTML = volume;\n    this.volumeSlider.updateVPosition(volume + \"%\");\n    return this;\n};\n\n//点击显示/隐藏设置音量面板\nfn.toggleVolumeSettingsPanel = function (evt) {\n    if (!this.controlsDisabled) {\n        dom.toggleClass(this.volumePopup, HIDE_CLASS);\n    }\n    //阻止冒泡到document, document点击事件点击面板外任意地方隐藏面板，如不阻止冒泡则显示不出来\n    evt.stopPropagation();\n};\n\nfn.hideVolumeSettingsPanel = function () {\n    dom.addClass(this.volumePopup, HIDE_CLASS);\n    return this;\n};\n\nfn.initVolumeEvent = function () {\n    dom.on(this.volumePopup, \"mouseleave\", this.hideVolumeSettingsPanel.bind(this))\n        .on(doc, \"click\", evt => {\n            let tgt = evt.target;\n            //点击页面其他地方（点击的不是音量设置面板或者面板内的元素）则隐藏音量面板\n            if (tgt !== this.volumePopup && !this.volumePopup.contains(tgt)) {\n                this.hideVolumeSettingsPanel();\n            }\n        });\n    return this;\n};\n\n\nfn.togglePlay = function () {\n    if (!this.controlsDisabled) {\n        this.video.isPaused() ? this.play(): this.pause();\n    }\n};\n\nfn.play = function () {\n    dom.addClass(this.playBtn, \"paused\");\n    this.video.play(true);\n    return this;\n};\n\nfn.pause = function () {\n    this.video.play(false);\n    dom.removeClass(this.playBtn, \"paused\");\n    return this;\n};\n\n//鼠标在进度条上移动显示时间信息\nfn.showPopupTimeInfo = function (evt) {\n    let duration = this.video.getDuration(),\n        popup = this.videoPopupTime,\n        mark = this.mark;\n    if (duration) {\n        dom.removeClass(popup, HIDE_CLASS)\n            .removeClass(mark, HIDE_CLASS);\n        let rect = this.progressPanel.getBoundingClientRect(),\n            distance = evt.clientX - rect.left,\n            width = popup.offsetWidth,\n            left = distance - width / 2;\n        width = rect.width - width;\n        left = left < 0 ? 0 : left > width ? width : left;\n        width = distance / rect.width;\n        popup.innerHTML = this.video.convertTime(width * duration);\n        dom.css(popup, \"left\", left + \"px\");\n        dom.css(mark, \"left\", width * 100 + \"%\");\n    }\n    return this;\n};\n\nfn.hidePopupTimeInfo = function () {\n    dom.addClass(this.videoPopupTime, HIDE_CLASS)\n        .addClass(this.mark, HIDE_CLASS);\n    return this;\n};\n\nfn.updateProgressByStep = function (step) {\n    let currentTime = this.video.getCurrentTime(),\n        duration = this.video.getDuration();\n    currentTime += step;\n    currentTime = currentTime < 0 ? 0 : currentTime > duration ? duration : currentTime;\n    this.video.setCurrentTime(currentTime);\n    this.updateProgress();\n};\n\nfn.hideControls = function () {\n    dom.addClass(this.controlsPanel, HIDE_CLASS);\n    return this;\n};\n\nfn.showControls = function () {\n    //出错了则不显示控制条\n    if (!this.error) {\n        clearTimeout(hideControlsTimer);\n        dom.removeClass(this.controlsPanel, HIDE_CLASS);\n        if (dom.hasClass(this.volumePopup, HIDE_CLASS)) {\n            hideControlsTimer = setTimeout(() => this.hideControls(), 5000);\n        }\n    }\n    return this;\n};\n\nfn.enableControls = function () {\n    dom.removeClass(this.controlsPanel, \"rplayer-disabled\");\n    this.controlsDisabled = false;\n    return this;\n};\n\nfn.disableControls = function () {\n    dom.addClass(this.controlsPanel, \"rplayer-disabled\");\n    this.controlsDisabled = true;\n    return this;\n};\n\nfn.initControlEvent = function () {\n    let videoEl = this.video.el;\n    //滑动改变进度/点击进度条改变进度\n    this.videoSlider.on(\"slider.move.done\", (evt, distance) => {\n        this.video.setCurrentTime(distance, true);\n        this.updateTime(true);\n    });\n    this.volumeSlider.on(\"slider.moving\",  (evt, distance) => {\n       this.updateVolume(distance, true);\n    });\n    dom.on(this.progressPanel, \"mouseover mousemove\", this.showPopupTimeInfo.bind(this))\n        .on(this.progressPanel, \"mouseout\", this.hidePopupTimeInfo.bind(this))\n        .on(this.container, \"keydown\", this.keyDown.bind(this))\n        .on(this.container, \"mousemove\", this.showControls.bind(this));\n    return this.initVolumeEvent()\n        .initFullScreenEvent();\n};\n\nfn.offEvent = function () {\n    dom.off(doc)\n        .off(this.volumePopup)\n        .off(this.container)\n        .off(this.video.el);\n    return this;\n};\n\nfn.destroy = function () {\n    if (this.container) {\n        this.videoSlider.destroy();\n        this.volumeSlider.destroy();\n        this.video.destroy();\n        removeProp(this);\n        this.offEvent();\n    }\n    return this;\n};\n\nfn.initEssentialElements = function () {\n    let context = this.container;\n    this.loading = dom.selectElement(\".rplayer-loading\", context);\n    this.errorMsg = dom.selectElement(\".rplayer-msg\", context);\n    return this;\n};\n\nfn.initElements = function () {\n    let context = this.container;\n    this.playBtn = dom.selectElement(\".rplayer-play-btn\", context);\n    this.progressPanel = dom.selectElement(\".rplayer-progress-panel\", context);\n    this.videoPopupTime = dom.selectElement(\".rplayer-popup-video-info\", context);\n    this.currentTime = dom.selectElement(\".rplayer-current-time\", context);\n    this.totalTime = dom.selectElement(\".rplayer-total-time\", context);\n    this.bufferedBar = dom.selectElement(\".rplayer-bufferd-bar\", context);\n    this.showVolumePopBtn = dom.selectElement(\".rplayer-audio-btn\", context);\n    this.muteBtn = dom.selectElement(\".rplayer-mute\", context);\n    this.volumePopup = dom.selectElement(\".rplayer-volume-popup\", context);\n    this.volumePopupInfo = dom.selectElement(\".rplayer-popup-volume-info\", context);\n    this.currentVolume = dom.selectElement(\".rplayer-current-volume\", context);\n    this.fullScreenBtn = dom.selectElement(\".rplayer-fullscreen-btn\", context);\n    this.mark = dom.selectElement(\".rplayer-mark\", context);\n    this.volumeSlider = new Slider(true);\n    this.videoSlider = new Slider();\n    this.videoSlider.init(this.progressPanel);\n    this.volumeSlider.init(this.volumePopup, this.muteBtn);\n    return this;\n};\n\nfn.getSource = function () {\n    return this.video.getSource();\n};\n\nfn.initControls = function () {\n    this.controlsPanel = dom.createElement(\"div\");\n    dom.addClass(this.controlsPanel, \"rplayer-controls\");\n    this.controlsPanel.innerHTML = controls;\n    this.container.appendChild(this.controlsPanel);\n    return this.initElements()\n        .updateVolumeStyle(this.video.getVolume())\n        .initControlEvent();\n};\n\nfn.initialize = function () {\n    if (!this.container) { //防止重复初始化\n        let container = dom.createElement(\"div\", {\n                tabIndex: 100 //使元素能够获取焦点\n            }),\n            height = parseInt(getComputedStyle(this.target).height);\n        this.isFullScreen = false;\n        container.innerHTML = tpl;\n        dom.css(container, \"height\", (height || DEFAULT_HEIGHT) + \"px\");\n        this.container = container;\n        container.appendChild(this.video.init());\n        dom.addClass(this.container, \"rplayer-container\");\n        //播放控制与原生控制二选一，如果设置了useNativeControls为true，则优先使用原生控制\n        if (this.controls && !this.useNativeControls) {\n            this.initControls();\n        } else if (this.useNativeControls) {\n            this.video.showControls();\n        }\n        this.target.appendChild(this.container);\n        this.initEssentialElements()\n            .initEvent();\n    }\n    return this;\n};\n\nfn.updateSource = function (src) {\n    this.video.changeSource(src);\n};\n\nRPlayer.init = function (selector, options) {\n    return new RPlayer(selector, options).initialize();\n};\n\nexport default RPlayer;"],"names":["DEFAULT_OPTIONS","ERROR_TYPE","TYPE","VOLUME_STEP","VIDEO_STEP","KEY_MAP","doc","document","isType","Object","prototype","toString","call","obj","type","isFunction","isObject","isString","isUndefined","isWindow","window","extend","target","source","arguments","length","key","copy","t","toArray","likeArr","start","Array","isArray","slice","removeProp","prop","e","dom","guid","hasClass","el","cls","classList","contains","className","indexOf","addClass","add","removeClass","reg","RegExp","remove","replace","trim","toggleClass","toggle","css","val","style","cssText","getComputedStyle","getPropertyValue","fullScreen","exit","fsApi","exitFullscreen","requestFullscreen","fullPage","selectElement","selector","context","ret","nodeName","test","getElementById","substring","querySelector","createElement","name","attrs","setAttribute","_on","callback","id","handler","defineProperty","handlers","push","addEventListener","on","off","i","split","_off","len","splice","removeEventListener","forEach","fn","once","cb","_this","args","apply","fullScreenApi","defApi","tmp","support","CEvent","data","timeStamp","Subscriber","TypeError","self","f","h","Date","now","concat","Slider","vertical","moveDis","pos","moving","proto","create","constructor","getPosition","parent","parentNode","rect","getBoundingClientRect","parseFloat","width","height","left","top","updateHPosition","scale","bar","updateVPosition","mouseDown","evt","button","x","clientX","y","clientY","mouseMove","getMoveCallback","bind","origLeft","origTop","maxX","maxY","mouseUp","moveVertical","distance","offsetY","moveHorizontal","offsetX","trigger","clickTrack","track","eType","initEvent","destroy","init","before","class","slider","appendChild","append","insertBefore","tpl","controls","VideoControl","config","playedTime","VIDEO_LOADED_META","VIDEO_TIME_UPDATE","VIDEO_DBLCLICK","VIDEO_SEEKING","VIDEO_LOAD_START","VIDEO_PROGRESS","VIDEO_CAN_PLAY","VIDEO_ENDED","VIDEO_ERROR","volume","muted","Math","floor","mute","play","autoplay","pause","paused","err","error","code","isLoop","loop","poster","preload","time","duration","getDuration","currentTime","getCurrentTime","percent","buffered","log","end","readyState","changeLen","num","str","m","s","ceil","load","src","isPaused","initSource","currentSrc","frag","createDocumentFragment","innerHTML","sourceEl","isError","message","setCurrentTime","getBuffered","getReadyState","handleError","notify","preventDefault","video","text","createTextNode","msg","autoPlay","setPoster","setPreload","setVolume","defaultVolume","hideVolumePopTimer","hideControlsTimer","HIDE_CLASS","DEFAULT_HEIGHT","RPlayer","options","abs","parseInt","Error","controlsDisabled","useNativeControls","toggleFullScreen","isFullScreen","requestFullScreen","exitFullScreen","container","fullScreenBtn","initFullScreenEvent","fullscreenchange","fullscreenElement","fullscreenerror","showLoading","loading","hideLoading","buffer","bufferedBar","updateTime","current","totalTime","convertTime","updateMetaInfo","meta","isAutoPlay","enableControls","playEnd","hideError","errorMsg","hideControls","refresh","reload","initPlayEvent","disableControls","toggleVolumePopupInfo","volumePopup","volumePopupInfo","currentVolume","setTimeout","keyDown","toLowerCase","regUpOrDown","regLeftOrRight","regEsc","regSpace","updateProgressByStep","updateVolumeByStep","togglePlay","handleClick","tgt","showVolumePopBtn","toggleVolumeSettingsPanel","muteBtn","playBtn","updateProgress","progress","getPlayedPercentage","videoSlider","updateVolume","updateVolumeStyle","getVolume","isMuted","step","volumeSlider","stopPropagation","hideVolumeSettingsPanel","initVolumeEvent","showPopupTimeInfo","popup","videoPopupTime","mark","progressPanel","offsetWidth","hidePopupTimeInfo","controlsPanel","showControls","initControlEvent","videoEl","offEvent","initEssentialElements","initElements","getSource","initControls","initialize","updateSource","changeSource"],"mappings":"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"}